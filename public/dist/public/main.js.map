{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/createroomform/createroomform.component.css","webpack:///./src/app/components/createroomform/createroomform.component.html","webpack:///./src/app/components/createroomform/createroomform.component.ts","webpack:///./src/app/components/drawchat-canvas/drawchat-canvas.component.css","webpack:///./src/app/components/drawchat-canvas/drawchat-canvas.component.html","webpack:///./src/app/components/drawchat-canvas/drawchat-canvas.component.ts","webpack:///./src/app/components/drawchat-chat/drawchat-chat.component.css","webpack:///./src/app/components/drawchat-chat/drawchat-chat.component.html","webpack:///./src/app/components/drawchat-chat/drawchat-chat.component.ts","webpack:///./src/app/components/drawchat-disconnect-modal/drawchat-disconnect-modal.component.css","webpack:///./src/app/components/drawchat-disconnect-modal/drawchat-disconnect-modal.component.html","webpack:///./src/app/components/drawchat-disconnect-modal/drawchat-disconnect-modal.component.ts","webpack:///./src/app/components/drawchat-palette/drawchat-palette.component.css","webpack:///./src/app/components/drawchat-palette/drawchat-palette.component.html","webpack:///./src/app/components/drawchat-palette/drawchat-palette.component.ts","webpack:///./src/app/components/drawchat-sliders/drawchat-sliders.component.css","webpack:///./src/app/components/drawchat-sliders/drawchat-sliders.component.html","webpack:///./src/app/components/drawchat-sliders/drawchat-sliders.component.ts","webpack:///./src/app/components/drawchat-timer/drawchat-timer.component.css","webpack:///./src/app/components/drawchat-timer/drawchat-timer.component.html","webpack:///./src/app/components/drawchat-timer/drawchat-timer.component.ts","webpack:///./src/app/components/drawchat-tools/drawchat-tools.component.css","webpack:///./src/app/components/drawchat-tools/drawchat-tools.component.html","webpack:///./src/app/components/drawchat-tools/drawchat-tools.component.ts","webpack:///./src/app/components/drawchat-userlist/drawchat-userlist.component.css","webpack:///./src/app/components/drawchat-userlist/drawchat-userlist.component.html","webpack:///./src/app/components/drawchat-userlist/drawchat-userlist.component.ts","webpack:///./src/app/components/drawchat/drawchat.component.css","webpack:///./src/app/components/drawchat/drawchat.component.html","webpack:///./src/app/components/drawchat/drawchat.component.ts","webpack:///./src/app/components/hub/hub.component.css","webpack:///./src/app/components/hub/hub.component.html","webpack:///./src/app/components/hub/hub.component.ts","webpack:///./src/app/components/loginform/loginform.component.css","webpack:///./src/app/components/loginform/loginform.component.html","webpack:///./src/app/components/loginform/loginform.component.ts","webpack:///./src/app/components/playback/playback.component.css","webpack:///./src/app/components/playback/playback.component.html","webpack:///./src/app/components/playback/playback.component.ts","webpack:///./src/app/components/room/room.component.css","webpack:///./src/app/components/room/room.component.html","webpack:///./src/app/components/room/room.component.ts","webpack:///./src/app/components/roomlist/roomlist.component.css","webpack:///./src/app/components/roomlist/roomlist.component.html","webpack:///./src/app/components/roomlist/roomlist.component.ts","webpack:///./src/app/components/signupform/signupform.component.css","webpack:///./src/app/components/signupform/signupform.component.html","webpack:///./src/app/components/signupform/signupform.component.ts","webpack:///./src/app/draw_modules/brush.ts","webpack:///./src/app/draw_modules/eraser.ts","webpack:///./src/app/draw_modules/observablepaintcursor.ts","webpack:///./src/app/draw_modules/paintcursor.ts","webpack:///./src/app/draw_modules/ruler.ts","webpack:///./src/app/services/drawchat-brush.service.ts","webpack:///./src/app/services/drawchat-color.service.ts","webpack:///./src/app/services/drawchat-token-calculator.service.ts","webpack:///./src/app/services/drawchat.service.ts","webpack:///./src/app/services/mousepos.service.ts","webpack:///./src/app/services/session.service.ts","webpack:///./src/app/services/sockets.service.ts","webpack:///./src/app/services/user.service.ts","webpack:///./src/app/services/window.service.ts","webpack:///./src/app/socket_modules/socket-chat.ts","webpack:///./src/app/socket_modules/socket-connection.ts","webpack:///./src/app/socket_modules/socket-draw.ts","webpack:///./src/app/socket_modules/socket-room.ts","webpack:///./src/app/timer_modules/timer.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DrawchatComponent } from './components/drawchat/drawchat.component';\nimport { HubComponent } from './components/hub/hub.component';\n\nconst routes: Routes = [\n  { path: 'draw/:id', component: DrawchatComponent },\n  { path: 'hub', component: HubComponent },\n  { path: '', pathMatch: 'full', redirectTo: '/hub' },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"#mainContainer {\\n  height:99.5vh;\\n  width: 100vw;\\n  \\n}\\napp-roomlist {\\n  position: relative;\\n  vertical-align: top;\\n  display: inline-block;\\n  height: 100%;\\n  width: 300px;\\n  overflow: scroll;\\n}\\napp-room {\\n  vertical-align: top;\\n  display: inline-block;\\n  height:100%;\\n  width: calc(100% - 300px);\\n  margin-right: -10px;\\n  overflow: scroll;\\n}\"","module.exports = \"\\n<router-outlet></router-outlet>\"","import { Component } from '@angular/core';\nimport { LoginFormComponent } from './components/loginform/loginform.component';\nimport { SignupFormComponent } from './components/signupform/signupform.component';\nimport { CreateRoomFormComponent } from './components/createroomform/createroomform.component';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'public';\n  bsModalRef: BsModalRef;\n  constructor(private modalService: BsModalService) {}\n\n  showLoginForm() {\n    this.bsModalRef = this.modalService.show(LoginFormComponent);\n    this.bsModalRef.content.closeBtnName = 'Close';\n  }\n\n  showSignupForm() {\n    this.bsModalRef = this.modalService.show(SignupFormComponent);\n    this.bsModalRef.content.closeBtnName = 'Close';\n  }\n\n  showCreateRoomForm() {\n    this.bsModalRef = this.modalService.show(CreateRoomFormComponent);\n    \n    this.bsModalRef.content.closeBtnName = 'Close';\n\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule }   from '@angular/forms';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { HttpClientModule } from '@angular/common/http';\n// COMPONENTS\nimport { RoomComponent } from './components/room/room.component';\nimport { RoomlistComponent } from './components/roomlist/roomlist.component';\nimport { LoginFormComponent } from './components/loginform/loginform.component';\nimport { SignupFormComponent } from './components/signupform/signupform.component';\nimport { CreateRoomFormComponent } from './components/createroomform/createroomform.component';\nimport { HubComponent } from './components/hub/hub.component';\nimport { PlaybackComponent } from './components/playback/playback.component';\n\nimport { DrawchatComponent } from './components/drawchat/drawchat.component';\nimport { DrawchatCanvasComponent } from './components/drawchat-canvas/drawchat-canvas.component';\nimport { DrawchatSlidersComponent } from './components/drawchat-sliders/drawchat-sliders.component';\nimport { DrawchatPaletteComponent } from './components/drawchat-palette/drawchat-palette.component';\nimport { DrawchatTimerComponent } from './components/drawchat-timer/drawchat-timer.component';\nimport { DrawchatToolsComponent } from './components/drawchat-tools/drawchat-tools.component';\nimport { DrawchatUserlistComponent } from './components/drawchat-userlist/drawchat-userlist.component';\nimport { DrawchatChatComponent } from './components/drawchat-chat/drawchat-chat.component';\nimport { DrawchatDisconnectModalComponent } from './components/drawchat-disconnect-modal/drawchat-disconnect-modal.component';\n\n// SERVICES\nimport { UserService } from './services/user.service';\nimport { DrawchatService } from './services/drawchat.service';\nimport { SessionService } from './services/session.service';\nimport { SocketsService } from './services/sockets.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    RoomComponent,\n    RoomlistComponent,\n    LoginFormComponent,\n    SignupFormComponent,\n    CreateRoomFormComponent,\n    DrawchatComponent,\n    HubComponent,\n    PlaybackComponent,\n    DrawchatCanvasComponent,\n    DrawchatSlidersComponent,\n    DrawchatPaletteComponent,\n    DrawchatTimerComponent,\n    DrawchatUserlistComponent,\n    DrawchatChatComponent,\n    DrawchatDisconnectModalComponent,\n    DrawchatToolsComponent,\n  ],\n  imports: [\n    ModalModule.forRoot(),\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    HttpClientModule\n  ],\n  entryComponents: [\n    LoginFormComponent,\n    SignupFormComponent,\n    CreateRoomFormComponent,\n    DrawchatDisconnectModalComponent\n  ],\n  providers: [\n    UserService,\n    DrawchatService,\n    SessionService,\n    SocketsService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-header\\\">\\n  <h4 class=\\\"modal-title pull-left\\\">{{title}}</h4>\\n  <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\n  </button>\\n</div>\\n<div class=\\\"modal-body\\\">\\n  <form (submit)=\\\"onSubmit()\\\">\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"name\\\">Room name:</label>\\n      <input class=\\\"form-control\\\" name=\\\"name\\\" [(ngModel)]=\\\"postData.name\\\" />\\n    </div>\\n\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"tags\\\">Description:</label>\\n      <textarea \\n        class=\\\"form-control\\\" \\n        rows=\\\"4\\\" \\n        name=\\\"description\\\" \\n        [(ngModel)]=\\\"postData.description\\\"\\n      >\\n      </textarea>\\n    </div>\\n\\n    <div class=\\\"form-group\\\">\\n      <label for=\\\"tags\\\">Tags (space separated):</label>\\n      <input class=\\\"form-control\\\" name=\\\"tagStr\\\" [(ngModel)]=\\\"tagStr\\\" />\\n    </div>\\n\\n    <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Submit</button>\\n\\n  </form>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n  <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"bsModalRef.hide()\\\">{{closeBtnName}}</button>\\n</div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\nimport { DrawchatService } from '../../services/drawchat.service';\n\n@Component({\n  selector: 'app-createroomform',\n  templateUrl: './createroomform.component.html',\n  styleUrls: ['./createroomform.component.css']\n})\nexport class CreateRoomFormComponent implements OnInit {\n  @Output() formDone = new EventEmitter();\n  title: string;\n  closeBtnName: string;\n\n  postData = {\n    name: \"\",\n    description: \"\",\n    tags: [\"test\", \"uhh\", \"test\"]\n  }\n\n  tagStr = \"\";\n\n  constructor(\n    public bsModalRef: BsModalRef,\n    private _drawChatService: DrawchatService,\n  ) { }\n\n  ngOnInit() {\n    this.title = \"Make a new room!\"\n  }\n\n  onSubmit() {\n    this.tagStr = this.tagStr.replace(/[^a-zA-Z0-9\\ ]/g, \"\");\n    this.postData.tags = this.tagStr.split(\" \");\n    this._drawChatService\n      .createRoom(this.postData)\n      .subscribe(response => {\n        if (response['status'] === 'success') {\n          this.formDone.emit(response['data']);\n          this.bsModalRef.hide();\n        }\n      })\n  }\n}\n","module.exports = \"::-webkit-scrollbar {\\n  width: 15px;  /* for vertical scrollbars */\\n  height: 15px; /* for horizontal scrollbars */\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  border-bottom: 1px solid rgb(214, 210, 210);\\n  border-right: 1px solid rgb(214, 210, 210);\\n  background: rgba(0, 0, 0, 0.8);\\n}\\n\\n#canvasContainer {\\n  position: relative;\\n  width:100%;\\n  height:100%;\\n  overflow: scroll;\\n  cursor: none;\\n}\\n\\n#canvasContainer > * {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n\\n}\\n\\n#base {\\n  background-color: white;\\n  z-index: 0; \\n}\\n\\n\"","module.exports = \"<div \\n  id=\\\"canvasContainer\\\" \\n  #container \\n  (mouseenter)=\\\"onMouseEnter()\\\"\\n  (mousedown)=\\\"onMouseDown($event)\\\" \\n  (mousemove)=\\\"onMouseMove($event)\\\" \\n  (mouseup)=\\\"onMouseUp()\\\"\\n  (mouseleave)=\\\"onMouseLeave()\\\"\\n  >\\n\\n  <canvas width=\\\"1820\\\" height=\\\"1024\\\" id=\\\"base\\\" [ngStyle]=\\\"{zoom: currZoom}\\\" #base></canvas>\\n  <canvas width=\\\"1820\\\" height=\\\"1024\\\" id=\\\"self\\\" [ngStyle]=\\\"{zoom: currZoom}\\\" #self></canvas>\\n  \\n  <svg width=\\\"1820\\\" height=\\\"1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" [ngStyle]=\\\"{zoom: currZoom}\\\">\\n    <circle \\n      stroke=\\\"black\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\"\\n      [attr.cx]=\\\"myPaintCursor.x\\\" \\n      [attr.cy]=\\\"myPaintCursor.y\\\" \\n      [attr.r]=\\\"myPaintCursor.size / 2\\\"\\n      [attr.display]=\\\"myPaintCursor.isVisible ? 'block' : 'none'\\\"/>\\n      \\n      <circle *ngFor=\\\"let peer of peerList | keyvalue\\\"\\n      stroke=\\\"black\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\"\\n      [attr.cx]=\\\"peer.value['cursor'].x\\\" \\n      [attr.cy]=\\\"peer.value['cursor'].y\\\" \\n      [attr.r]=\\\"peer.value['cursor'].size / 2\\\"\\n      [attr.display]=\\\"peer.value['cursor'].isVisible ? 'block' : 'none'\\\"/>\\n  </svg>\\n  \\n  <canvas *ngFor=\\\"let peer of peerList | keyvalue\\\"\\n    [attr.id]=\\\"peer.key\\\"\\n    width=\\\"1820\\\" height=\\\"1024\\\" \\n    [ngStyle]=\\\"{zoom: currZoom}\\\" \\n  ></canvas>\\n</div>\"","import { Component, OnInit, Input, ViewChild, OnDestroy } from '@angular/core';\nimport { Subject, interval } from 'rxjs';\nimport { takeUntil, map, take, filter } from 'rxjs/operators';\n\nimport { PaintCursor } from 'src/app/draw_modules/paintcursor';\nimport { ObservablePaintCursor } from 'src/app/draw_modules/observablepaintcursor';\n\nimport { MouseposService } from 'src/app/services/mousepos.service';\nimport { DrawchatBrushService } from 'src/app/services/drawchat-brush.service';\nimport { SocketsService } from 'src/app/services/sockets.service';\nimport { DrawSocketModule } from 'src/app/socket_modules/socket-draw';\nimport { WindowService } from 'src/app/services/window.service';\n\n@Component({\n  selector: 'app-drawchat-canvas',\n  templateUrl: './drawchat-canvas.component.html',\n  styleUrls: ['./drawchat-canvas.component.css'],\n  providers: [MouseposService, WindowService]\n})\nexport class DrawchatCanvasComponent implements OnInit, OnDestroy {\n  @ViewChild('container') canvasContainerRef;\n  @ViewChild('base') baseCanvasRef;\n  @ViewChild('self') selfCanvasRef;\n\n  container: HTMLElement;\n  baseCtx: CanvasRenderingContext2D;\n  selfCtx: CanvasRenderingContext2D;\n  \n  @Input() currZoom = 1;\n  myPaintCursor: ObservablePaintCursor;\n  trackMouse;\n  \n  drawConnection: DrawSocketModule;\n  destroy: Subject<boolean> = new Subject<boolean>();\n\n  peerList = {};\n  \n  constructor(\n    private mouse: MouseposService,\n    private socket: SocketsService,\n    private brushSettings: DrawchatBrushService,\n    private window: WindowService\n  ) {\n    this.drawConnection = this.socket.drawModule;\n  }\n\n  ngOnInit() {\n    this.container = (this.canvasContainerRef.nativeElement as HTMLElement);\n    this.baseCtx = (this.baseCanvasRef.nativeElement as HTMLCanvasElement).getContext('2d');\n    this.selfCtx = (this.selfCanvasRef.nativeElement as HTMLCanvasElement).getContext('2d');\n\n    this.myPaintCursor = new ObservablePaintCursor(this.baseCtx).setUpperLayer(this.selfCtx);\n    this.trackMouse = this.mouse.getMousePosTracker(this.baseCtx.canvas);\n\n    \n    this.subscribeToWindowEvents();\n    this.subscribeToSelfCursorEvents();\n    this.subscribeToBrushChanges();\n    this.subscribeToRoomEvents();\n    this.subscribeToCanvasEvents();\n  }\n\n  ngOnDestroy() {\n    this.destroy.next(true);\n    this.destroy.unsubscribe();\n    this.onLeave();\n  }\n\n  subscribeToWindowEvents() {\n    this.window.onWindowUnload()\n      .subscribe(this.onLeave.bind(this));\n  }\n\n  onLeave() {\n    if (Object.keys(this.peerList).length === 0) {\n      this.drawConnection.emitSnapshot()\n    }\n  }\n\n  subscribeToSelfCursorEvents() {\n\n    this.myPaintCursor.onStart.subscribe(\n      this.drawConnection.emitCanvasActionStart\n        .bind(this.drawConnection));\n\n    this.myPaintCursor.onMove.subscribe(\n      this.drawConnection.emitMousePosUpdate\n        .bind(this.drawConnection));\n\n    this.myPaintCursor.onEnd.subscribe(\n      this.drawConnection.emitCanvasActionEnd\n        .bind(this.drawConnection));\n  }\n\n  subscribeToBrushChanges() {\n    this.brushSettings.colorChanged\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.myPaintCursor.setColor\n        .bind(this.myPaintCursor));\n\n    this.brushSettings.sizeChanged\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.myPaintCursor.setSize\n        .bind(this.myPaintCursor));\n\n    this.brushSettings.toolChanged\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.myPaintCursor.setTool\n        .bind(this.myPaintCursor))\n\n  }\n\n  subscribeToRoomEvents() {\n    this.socket.roomModule\n      .onPeerJoin()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addPeerCursor.bind(this));\n\n    this.socket.roomModule\n      .onReceivingPeerInfo()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addPeerCursor.bind(this));\n    \n    this.socket.roomModule\n      .onPeerLeave()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.removeFromPeerList.bind(this));\n\n    this.socket.roomModule\n      .onPeersCanvasRequest()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.shareCanvasWithPeer.bind(this));\n\n    this.socket.roomModule\n      .onCanvasDataReceived()\n      .pipe(take(1))\n      .subscribe(this.receiveCanvasData.bind(this));\n\n    this.socket.roomModule\n      .onSnapshotSignal()\n      .pipe(take(1))\n      .subscribe(this.fetchSnapshot.bind(this));\n  }\n\n  removeFromPeerList({ id }) {\n    if (this.peerList[id]) {\n      delete this.peerList[id];\n    }\n  }\n\n  addPeerCursor({ id, username }) {\n    const cursor = new PaintCursor(this.baseCtx).setLabel(username)\n    this.peerList[id] = { username, cursor }\n    // New Cursor needs an upper canvas that won't be generated yet\n    // Keep checking until that canvas is generated\n    this.checkForCanvas({ id: id, intervalInMs: 200 })\n      .subscribe(foundCanvas =>\n        cursor.setUpperLayer(foundCanvas.getContext('2d')))\n  }\n\n  checkForCanvas({ id, intervalInMs }: { id: string, intervalInMs: number }) {\n    return interval(intervalInMs)\n      .pipe(\n        map(() => this.findCanvasWithId(id)),\n        filter(found => found !== undefined),\n        take(1),\n        map(found => found as HTMLCanvasElement),\n      )\n  }\n\n  findCanvasWithId(id: string) {\n    return Array.from(this.container.children)\n      .find(val => val.id == id);\n  }\n\n\n  shareCanvasWithPeer({ id }) {\n    this.socket.roomModule.emitCanvasData({ id, data: this.getCanvasData() });\n  }\n\n  getCanvasData() {\n    return this.baseCtx.canvas.toDataURL('image/png', 0.7);\n  }\n\n  receiveCanvasData({ data }) {\n    const img = new Image();\n    img.onload = () => {\n      this.baseCtx.drawImage(img, 0, 0);\n    }\n    img.src = data;\n  }\n\n  fetchSnapshot({url}) {\n    const img = new Image();\n    img.onload = () => {\n      this.baseCtx.drawImage(img, 0, 0);\n    }\n    img.crossOrigin = 'anonymous';\n    img.src = url;\n  }\n\n  subscribeToCanvasEvents() {\n    this.drawConnection\n      .onPeersCursorSizeUpdate()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.updatePeersCursorSize.bind(this));\n\n    this.drawConnection\n      .onPeersMousePosUpdate()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.updatePeersMousePos.bind(this));\n\n    this.drawConnection\n      .onPeersCanvasActionStart()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.startPeerAction.bind(this));\n\n    this.drawConnection\n      .onPeersCanvasActionEnd()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.endPeerAction.bind(this));\n\n  }\n\n  updatePeersCursorSize({ id, data }) {\n    if(this.peerList[id] === undefined) { return; }\n    this.getCursorByUserId(id).setSize(data);\n  }\n\n  updatePeersMousePos({ id, data: { x, y } }) {\n    if(this.peerList[id] === undefined) { return; }\n    this.getCursorByUserId(id).moveTo(x, y);\n  }\n\n  startPeerAction({ id, data }) {\n    if(this.peerList[id] === undefined) { return; }\n    this.getCursorByUserId(id)\n      .setColor(data['rgba'])\n      .startAction();\n  }\n\n  endPeerAction({ id }) {\n    if(this.peerList[id] === undefined) { return; }\n    this.getCursorByUserId(id).endAction();\n  }\n\n\n  getCursorByUserId(id) {\n    \n    return this.peerList[id]['cursor'] as PaintCursor;\n  }\n\n  // Personal events\n\n  onMouseEnter() {\n    this.myPaintCursor.show();\n  }\n\n  onMouseDown(e: MouseEvent) {\n    if (this.leftMouseIsDown(e)) {\n      if (this.brushSettings.tool === 'EYEDROPPER') {\n        const { x, y } = this.trackMouse(e);\n        const {data} = this.baseCtx.getImageData(x, y, 1, 1);\n        this.brushSettings.changeColor([data[0], data[1], data[2]]);  \n      } else {\n        this.myPaintCursor.startAction();\n      }\n    }\n  }\n\n  onMouseMove(e: MouseEvent) {\n    const { x, y } = this.trackMouse(e);\n    if (this.brushSettings.tool === 'EYEDROPPER' && this.leftMouseIsDown(e)) {\n      const {data} = this.baseCtx.getImageData(x, y, 1, 1);\n      this.brushSettings.changeColor([data[0], data[1], data[2]]);\n    }\n    this.myPaintCursor.moveTo(x, y);\n  }\n\n  onMouseUp() {\n    this.endCurrentStroke();\n  }\n\n  onMouseLeave() {\n    this.endCurrentStroke();\n    this.myPaintCursor.hide();\n  }\n\n  endCurrentStroke() {\n    if (this.myPaintCursor.hasOngoingAction()) {\n      this.myPaintCursor.endAction();\n    }\n  }\n\n  leftMouseIsDown(e: MouseEvent) {\n    return e.button === 0 && e.buttons === 1;\n  }\n\n}\n\n","module.exports = \"#chatBox {\\n  width: 100%;\\n  height: calc(100% - 30px);\\n  overflow: scroll;\\n}\\n\\n#chatInput {\\n  width: 100%;\\n  height: 30px;\\n  z-index: 3;\\n}\\n\\np {\\n  margin-left: 5px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n  font-size: 13px;\\n  color: whitesmoke;\\n}\\n\\n#chatInput:focus {\\n  outline: 0px;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 5px;  /* for vertical scrollbars */\\n  height: 0px; /* for horizontal scrollbars */\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: rgba(190, 190, 190, 0.267);\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: rgba(255, 255, 255, 0.616);\\n}\"","module.exports = \"<div id=\\\"chatBox\\\" #chatBox [scrollTop]=\\\"chatLog.length === 0 ? 0 : chatBoxElem.scrollHeight\\\">\\n  <p *ngFor=\\\"let entry of chatLog\\\">\\n    <span class=\\\"text-warning\\\">{{entry.username}} ({{entry.time | date:'shortTime'}})</span> : <br> {{entry.message}}\\n  </p>\\n</div>\\n\\n<input \\n  id=\\\"chatInput\\\" \\n  type=\\\"text\\\" \\n  name=\\\"chatInput\\\" \\n  [(ngModel)]=\\\"currInput\\\"\\n  placeholder=\\\"New message...\\\"\\n  (keydown)=\\\"onKeyDown($event)\\\">\\n\"","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, OnDestroy } from '@angular/core';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { SocketsService } from '../../services/sockets.service';\n\n@Component({\n  selector: 'app-drawchat-chat',\n  templateUrl: './drawchat-chat.component.html',\n  styleUrls: ['./drawchat-chat.component.css']\n})\nexport class DrawchatChatComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @ViewChild('chatBox') private chatBox: ElementRef;\n  chatBoxElem: HTMLElement;\n\n\n  peerList = {}\n  chatLog: Array<{ username: string, time: Date, message: string }> = [];\n  currInput: string;\n\n  destroy: Subject<boolean> = new Subject<boolean>();\n\n  constructor(private socket: SocketsService) { }\n\n  ngOnInit() {\n    this.subscribeToRoomEvents();\n    this.subscribeToChatEvents();\n  }\n\n  ngAfterViewInit() {\n    this.chatBoxElem = this.chatBox.nativeElement;\n  }\n\n  ngOnDestroy() {\n    this.destroy.next(true);\n    this.destroy.unsubscribe();\n  }\n\n  subscribeToRoomEvents() {\n    this.socket.roomModule.onPeerJoin()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addToPeerList.bind(this));\n\n    this.socket.roomModule.onReceivingPeerInfo()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addToPeerList.bind(this));\n\n    this.socket.roomModule.onPeerLeave()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.removeFromPeerList.bind(this));\n  }\n\n  addToPeerList({ username, id }) {\n    this.peerList[id] = username;\n  }\n\n  removeFromPeerList({ id }) {\n    if (this.peerList[id]) {\n      delete this.peerList[id];\n    }\n  }\n\n  subscribeToChatEvents() {\n    this.socket.chatModule.onNewMessage()\n      .pipe(\n        map(this.formatMessage.bind(this))\n      )\n      .subscribe(this.appendMessageToChatlog.bind(this));\n  }\n\n  formatMessage({ id, data }) {\n    if (!this.peerList[id]) { return };\n    const username = this.peerList[id];\n    return {\n      username,\n      time: new Date(),\n      message: data\n    }\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (event.key === \"Enter\") {\n      this.appendOwnMessage();\n      this.sendMessage();\n      this.currInput = \"\";\n    }\n  }\n\n  sendMessage() {\n    this.socket.chatModule.emitNewMessage(this.currInput);\n  }\n\n  appendOwnMessage() {\n    this.appendMessageToChatlog(\n      { username: \"You\", time: new Date(), message: this.currInput })\n  }\n\n  appendMessageToChatlog(data: { username: string, time: Date, message: string }) {\n    this.chatLog.push(data);\n    if (this.chatLog.length >= 30) {\n      this.chatLog.shift()\n    }\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Disconnected</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <form (submit)=\\\"onSubmit()\\\">\\n      <h4>This room is either expired or not invalid.</h4>\\n      <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">OK</button>\\n  \\n    </form>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n  </div>\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\n\n@Component({\n  selector: 'app-drawchat-disconnect-modal',\n  templateUrl: './drawchat-disconnect-modal.component.html',\n  styleUrls: ['./drawchat-disconnect-modal.component.css']\n})\nexport class DrawchatDisconnectModalComponent implements OnInit {\n\n  @Output() formDone = new EventEmitter();\n  title: string;\n  closeBtnName: string;\n\n  postData = {\n    name: \"\",\n    description: \"\",\n    tags: [\"test\", \"uhh\", \"test\"]\n  }\n\n  tagStr = \"\";\n\n  constructor(\n    public bsModalRef: BsModalRef,\n  ) { }\n\n  ngOnInit() {\n    this.title = \"Make a new room!\"\n  }\n\n\n  onSubmit() {\n   this.formDone.emit(true);\n  }\n}\n","module.exports = \"#palContainer {\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n}\\n\\n#paletteCanvas {\\n  height: 100%;\\n  width: 800px;\\n}\\n\\n::-webkit-scrollbar\\n{\\n  width: 0px;  /* for vertical scrollbars */\\n  height: 15px; /* for horizontal scrollbars */\\n}\\n\\n::-webkit-scrollbar-track\\n{\\n  background: rgba(0, 0, 0, 0.363);\\n}\\n\\n::-webkit-scrollbar-thumb\\n{\\n  border-top: 1px solid black;\\n  background: rgb(236, 236, 236);\\n}\"","module.exports = \"<div id=\\\"palContainer\\\">\\n<canvas \\n  id=\\\"paletteCanvas\\\"\\n  (mousedown)=\\\"onMouseDownOrMove($event)\\\"\\n  (mousemove)=\\\"onMouseDownOrMove($event)\\\"\\n  width=\\\"800\\\"\\n  height=\\\"136\\\"\\n  #palette>\\n</canvas>\\n</div>\"","import { Component, OnInit, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { MouseposService } from 'src/app/services/mousepos.service';\nimport { DrawchatBrushService } from '../../services/drawchat-brush.service';\n\n@Component({\n  selector: 'app-drawchat-palette',\n  templateUrl: './drawchat-palette.component.html',\n  styleUrls: ['./drawchat-palette.component.css'],\n  providers: [MouseposService]\n})\nexport class DrawchatPaletteComponent implements OnInit {\n\n  @ViewChild('palette') paletteRef;\n\n  palCtx: CanvasRenderingContext2D;\n  trackMouse;\n\n  constructor(\n    private mouse: MouseposService,\n    private brush: DrawchatBrushService\n  ) { }\n\n  ngOnInit() {\n    const canvas = this.paletteRef.nativeElement as HTMLCanvasElement;\n    this.trackMouse = this.mouse.getMousePosTracker(canvas);\n    this.palCtx = canvas.getContext('2d');\n    const img = new Image();\n    img.src = 'assets/palette.png';\n    img.onload = () => {\n      this.palCtx.drawImage(img, 0, 0, canvas.width, canvas.height);\n    }\n  }\n\n  onMouseDownOrMove(e: MouseEvent) {\n    if (e.buttons == 1) {\n      const mousepos = this.trackMouse(e);\n      this.getColorFromPalette(mousepos);\n    }\n  }\n\n  getColorFromPalette({ x, y }) {\n    const {data} = this.palCtx.getImageData(x, y, 1, 1);\n    this.brush.changeColor([data[0], data[1], data[2]]);\n  }\n\n}\n","module.exports = \"* {\\n  font-size: 12px;\\n  font-weight: bold;\\n  color:whitesmoke;\\n}\\n\\nbutton {\\n  margin-bottom: 10px;\\n  color: rgb(53, 56, 58);\\n}\\n\\n.inactive {\\n  opacity: 0.6;\\n}\\n\\n#colorBox {\\n  vertical-align: bottom;\\n  display: inline-block;\\n  width: 25px;\\n  height: 25px;\\n  border-radius: 5px;\\n  border: 1px solid whitesmoke;\\n  margin-bottom: 10px;\\n  margin-left: 65px;\\n  background-color: black;\\n}\\n\\n.sliderContainer {\\n  vertical-align: top;\\n  display: inline-block;\\n  width: 200px;\\n  padding: 10px 10px 0px 10px;\\n  height:100%;\\n  background-color: rgb(53, 56, 58);\\n}\\n\\n#brush {\\n  padding-top: 40px;\\n}\\n\\n.sliderInitial {\\n  vertical-align: top;\\n  width: 35px;\\n  display: inline-block;\\n}\\n\\n.sliderVal {\\n  vertical-align: top;\\n  width: 25px;\\n  margin-left: 5px;\\n  display: inline-block;\\n\\n}\\n\\ninput[type=range] {\\n  height: 15px;\\n  -webkit-appearance: none;\\n  margin-top: 2px;\\n  width: calc(100% - 65px);\\n  background-color: #00000000\\n}\\n\\ninput[type=range]:focus {\\n  outline: none;\\n}\\n\\ninput[type=range]::-webkit-slider-runnable-track {\\n  width: 100%;\\n  height: 5px;\\n  cursor: pointer;\\n  background-color: rgba(255, 255, 255, 0.63);\\n  border-radius: 5px;\\n  border: 1px solid #000000;\\n}\\n\\ninput[type=range]::-webkit-slider-thumb {\\n  border: 1px solid #000000;\\n  height: 20px;\\n  width: 13px;\\n  border-radius: 5px;\\n  background: rgba(255, 255, 255, 0.842);\\n  cursor: pointer;\\n  -webkit-appearance: none;\\n  margin-top: -11px;\\n}\\n\\ninput[type=range]::-moz-range-track {\\n  width: 100%;\\n  height: 5px;\\n  cursor: pointer;\\n  background: rgba(255, 255, 255, 0.63);\\n  border-radius: 5px;\\n  border: 1px solid #000000;\\n}\\n\\ninput[type=range]::-moz-range-thumb {\\n  border: 1px solid #000000;\\n  height: 15px;\\n  width: 7px;\\n  border-radius: 5px;\\n  background: #FFFFFF;\\n  cursor: pointer;\\n}\\n\\ninput[type=range]::-ms-track {\\n  width: 100%;\\n  height: 5px;\\n  cursor: pointer;\\n  background: transparent;\\n  border-color: transparent;\\n  color: transparent;\\n}\\n\\ninput[type=range]::-ms-fill-lower {\\n  background: rgba(255, 255, 255, 0.842);;\\n  border: 1px solid #000000;\\n  border-radius: 10px;\\n  box-shadow: 1px 1px 1px #000000;\\n}\\n\\ninput[type=range]::-ms-fill-upper {\\n  background:rgba(255, 255, 255, 0.842);\\n  border: 1px solid #000000;\\n  border-radius: 10px;\\n  box-shadow: 1px 1px 1px #000000;\\n}\\n\\ninput[type=range]::-ms-thumb {\\n  margin-top: 1px;\\n  border: 1px solid #000000;\\n  height: 15px;\\n  width: 7px;\\n  border-radius: 5px;\\n  background: #FFFFFF;\\n  cursor: pointer;\\n}\\n\"","module.exports = \"<div id=\\\"color\\\" class=\\\"sliderContainer\\\">\\n  <button (click)=\\\"changeMode('rgb')\\\" [ngClass]=\\\"{'inactive': currMode === 'hsl' }\\\">RGB</button>\\n  <button (click)=\\\"changeMode('hsl')\\\" [ngClass]=\\\"{'inactive': currMode === 'rgb' }\\\">HSL</button>\\n  \\n  <div \\n    id=\\\"colorBox\\\" \\n    [ngStyle]=\\\"{\\n      'background-color': solidColorCssString() \\n    }\\\">\\n  </div>\\n\\n  <div class=\\\"slider\\\">\\n    <label class=\\\"sliderInitial\\\">{{currMode == 'rgb' ? 'R' : 'H'}}</label>\\n    <input \\n      type=\\\"range\\\" \\n      name=\\\"colorSlider1Val\\\" \\n      [(ngModel)]=\\\"colorSlider1Val\\\" \\n      (change)=\\\"updateColor()\\\"\\n      min=\\\"1\\\" max=\\\"{{currMode == 'rgb' ? 255 : 360}}\\\">\\n    <label class=\\\"sliderVal\\\">{{colorSlider1Val}}</label>\\n  </div>\\n\\n  <div class=\\\"slider\\\">\\n    <label class=\\\"sliderInitial\\\">{{currMode == 'rgb' ? 'G' : 'S'}}</label>\\n    <input \\n      type=\\\"range\\\" \\n      name=\\\"colorSlider2Val\\\"\\n      [(ngModel)]=\\\"colorSlider2Val\\\"\\n      (change)=\\\"updateColor()\\\"\\n      min=\\\"1\\\" max=\\\"{{currMode == 'rgb' ? 255 : 100}}\\\">\\n    <label class=\\\"sliderVal\\\">{{colorSlider2Val}}</label>\\n\\n  </div>\\n\\n  <div class=\\\"slider\\\">\\n    <label class=\\\"sliderInitial\\\">{{currMode == 'rgb' ? 'B' : 'L'}}</label>\\n    <input \\n      type=\\\"range\\\" \\n      name=\\\"colorSlider3Val\\\"\\n      [(ngModel)]=\\\"colorSlider3Val\\\"\\n      (change)=\\\"updateColor()\\\"\\n      min=\\\"1\\\" max=\\\"{{currMode == 'rgb' ? 255 : 100}}\\\">\\n    <label class=\\\"sliderVal\\\">{{colorSlider3Val}}</label>\\n  </div>\\n\\n</div>\\n\\n<div id=\\\"brush\\\" class=\\\"sliderContainer\\\">\\n\\n  <div class=\\\"slider\\\">\\n    <label class=\\\"sliderInitial\\\">Alpha</label>\\n    <input \\n      type=\\\"range\\\" \\n      name=\\\"alphaSliderVal\\\"\\n      [(ngModel)]=\\\"alphaSliderVal\\\"\\n      (change)=\\\"updateColor()\\\"\\n      min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.1\\\">\\n    <label class=\\\"sliderVal\\\">{{alphaSliderVal}}</label>\\n  </div>\\n\\n  <div class=\\\"slider\\\">\\n    <label class=\\\"sliderInitial\\\">Size</label>\\n    <input \\n      type=\\\"range\\\" \\n      name=\\\"sizeSliderVal\\\"\\n      [(ngModel)]=\\\"sizeSliderVal\\\"\\n      (change)=\\\"updateSize()\\\"\\n      min=\\\"0\\\" max=\\\"100\\\">\\n    <label class=\\\"sliderVal\\\">{{sizeSliderVal}}</label>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { SocketsService } from '../../services/sockets.service';\nimport { DrawchatBrushService } from '../../services/drawchat-brush.service';\nimport { DrawchatColorService } from '../../services/drawchat-color.service';\n\n@Component({\n  selector: 'app-drawchat-sliders',\n  templateUrl: './drawchat-sliders.component.html',\n  styleUrls: ['./drawchat-sliders.component.css'],\n  providers: [DrawchatColorService]\n})\nexport class DrawchatSlidersComponent implements OnInit {\n\n  currMode = 'rgb';\n  colorSlider1Val: number;\n  colorSlider2Val: number;\n  colorSlider3Val: number;\n\n  alphaSliderVal: number;\n  sizeSliderVal: number;\n\n  constructor(\n    private _socket: SocketsService,\n    private brush: DrawchatBrushService,\n    private color: DrawchatColorService\n    ) {\n    this.colorSlider1Val = 1;\n    this.colorSlider2Val = 1;\n    this.colorSlider3Val = 1;\n    this.alphaSliderVal = 1;\n    this.sizeSliderVal = 1;\n   }\n\n  ngOnInit() { \n    this.subscribeToColorChanges();\n  }\n\n  subscribeToColorChanges() {\n    this.brush.colorChanged.subscribe(colorInRgb => {\n      this.color.set({rgbOrHsl: 'rgb', vals: colorInRgb})\n      this.setColorSliderVals(this.color.get(this.currMode));\n    })\n  }\n\n  updateColor() {\n    this.color.set(\n      {rgbOrHsl: this.currMode, vals: this.getColorSliderVals()});\n\n    this.brush.changeColorAndAlpha(\n      [...this.color.get('rgb'), this.alphaSliderVal]);\n  }\n\n  updateSize() {\n    this.brush.changeSize(this.sizeSliderVal);\n    this._socket.drawModule.emitCursorSizeUpdate(this.brush.size);\n  }\n\n  changeMode(newMode:string) {\n    if (newMode !== 'rgb' && newMode !== 'hsl') { return ;}\n    if (this.currMode === newMode) { return; }\n\n    this.setColorSliderVals(this.color.get(newMode));\n    this.currMode = newMode;\n  }\n\n  private setColorSliderVals([val1, val2, val3]: number[]) {\n    this.colorSlider1Val = val1;\n    this.colorSlider2Val = val2;\n    this.colorSlider3Val = val3;\n  }\n\n  private getColorSliderVals() {\n    return [\n      this.colorSlider1Val,\n      this.colorSlider2Val,\n      this.colorSlider3Val,\n    ]\n  }\n\n  solidColorCssString() {\n    if (this.currMode === 'rgb') {\n      return `rgb(${this.getColorSliderVals().join(',')})`;\n    } else if (this.currMode === 'hsl') {\n      return `hsl(${this.colorSlider1Val}, ${this.colorSlider2Val}%, ${this.colorSlider3Val}%)`;\n    }\n  }\n\n}\n","module.exports = \"*{\\n  font-weight: bold;\\n  font-size: 13px; \\n}\\n\\n#tokenCountdown {\\n  font-weight: bolder;\\n  font-size: 25px;\\n  margin-bottom: 5px;\\n  padding-left: 10px;\\n}\\n\\nimg {\\n  width: 15px;\\n  height: 15px;\\n}\\n\\n#tokenButton {\\n  width:40%;\\n  border-radius: 5px;\\n  margin-right: 10px;\\n  margin-left: 10px;\\n}\"","module.exports = \"<p id=\\\"tokenCountdown\\\" class=\\\"text-warning\\\">{{ roomCountdown || '0h 0m 0s' }}</p>\\n<!-- <p>{{ roomCountdown}}</p> -->\\n<button class=\\\"btn-warning\\\" id=\\\"tokenButton\\\" (click)=\\\"consumeToken()\\\">\\n  <img src=\\\"assets/clock.png\\\" alt=\\\"clock\\\">  x{{tokensRemaining}}\\n</button>\\n<span class=\\\"text-warning\\\" id=\\\"roomCountdown\\\"> {{tokenCountdown || '0h 0m 0s'}}</span>\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators'\nimport { SocketsService } from '../../services/sockets.service';\nimport { DrawchatTokenCalculatorService } from '../../services/drawchat-token-calculator.service';\nimport { Timer } from '../../timer_modules/timer';\n\n@Component({\n  selector: 'app-drawchat-timer',\n  templateUrl: './drawchat-timer.component.html',\n  styleUrls: ['./drawchat-timer.component.css'],\n  providers: [DrawchatTokenCalculatorService],\n})\nexport class DrawchatTimerComponent implements OnInit, OnDestroy {\n  tokenCountdown: string;\n  roomCountdown: string;\n  tokensRemaining: number;\n\n  tokenTimer: Timer;\n  expireTimer: Timer;\n\n  destroy: Subject<boolean> = new Subject<boolean>();\n\n  constructor(\n    private tokenCalculator: DrawchatTokenCalculatorService,\n    private socket: SocketsService\n  ) { }\n\n  ngOnInit() {\n    this.socket.roomModule.onReceivingRoomInfo()\n      .pipe(take(1))\n      .subscribe(room => {\n\n        this.tokenCalculator.createdAt = new Date(room['created_at']).getTime();\n        this.tokenCalculator.expiresAt = new Date(room['expires_at']).getTime();\n\n        this.initializeTimers();\n      })\n\n    this.socket.roomModule.onTokenConsumption()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.onTokenConsumed.bind(this));\n  }\n\n  ngOnDestroy() {\n    this.destroy.next(true);\n    this.destroy.unsubscribe();\n  }\n\n  initializeTimers() {\n\n    this.tokenTimer = new Timer(this.tokenCalculator.getTimeTilNextToken());\n    this.tokenTimer.setRestartTime(this.tokenCalculator.getTokenInterval());\n    this.tokenTimer.observable.subscribe(timeStr => { this.tokenCountdown = timeStr });\n    const tokenSub = this.tokenTimer.onTimeOut.subscribe(() => {\n      const tokensAvailable = this.tokenCalculator.getTokensAvailable()\n      if (tokensAvailable) {\n        this.tokensRemaining++;\n      } else {\n        this.tokenCountdown = \"0h 0m 0s\";\n        tokenSub.unsubscribe()\n      }\n    });\n\n    this.expireTimer = new Timer(this.tokenCalculator.getTimeTilExpire());\n    this.expireTimer.observable.subscribe(timeStr => { this.roomCountdown = timeStr });\n    this.expireTimer.onTimeOut.subscribe(() => {\n      this.socket.connectionModule.emitTimeOut()\n    })\n\n    this.tokensRemaining = this.tokenCalculator.getTokensAvailable();\n\n  }\n\n  consumeToken() {\n    this.socket.roomModule.emitTokenConsumption();\n  }\n\n  onTokenConsumed({ newExpireDate }) {\n    const now = new Date().getTime();\n    this.tokenCalculator.expiresAt = newExpireDate;\n    this.tokensRemaining = this.tokenCalculator.getTokensAvailable();\n    this.expireTimer.setTime(newExpireDate - now);\n  }\n\n}\n","module.exports = \"img {\\n  width: 50px;\\n  height: auto;\\n  margin-bottom: 25px; \\n  border-radius: 5px; \\n}\\n\\nimg.selected {\\n  border: 2px solid whitesmoke;\\n}\"","module.exports = \"<img src=\\\"assets/brush.png\\\" alt=\\\"brush\\\" [ngClass]=\\\"{'selected': currTool === 'BRUSH' }\\\" (click)=\\\"changeTool('BRUSH')\\\">\\n<img src=\\\"assets/eraser.png\\\" alt=\\\"eraser\\\" [ngClass]=\\\"{'selected': currTool === 'ERASER' }\\\" (click)=\\\"changeTool('ERASER')\\\">\\n<img src=\\\"assets/eyedropper.png\\\" alt=\\\"eyedropper\\\" [ngClass]=\\\"{'selected': currTool === 'EYEDROPPER' }\\\" (click)=\\\"changeTool('EYEDROPPER')\\\">\\n<img src=\\\"assets/ruler.png\\\" alt=\\\"ruler\\\" [ngClass]=\\\"{'selected': currTool === 'RULER' }\\\" (click)=\\\"changeTool('RULER')\\\">\\n\"","import { Component, OnInit } from '@angular/core';\nimport { DrawchatBrushService } from '../../services/drawchat-brush.service';\n\n@Component({\n  selector: 'app-drawchat-tools',\n  templateUrl: './drawchat-tools.component.html',\n  styleUrls: ['./drawchat-tools.component.css'],\n})\nexport class DrawchatToolsComponent implements OnInit {\n  currTool = 'BRUSH'\n  constructor(\n    private brush: DrawchatBrushService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  changeTool(tool:string) {\n    this.currTool = tool;\n    this.brush.changeTool(tool);\n  }\n}\n","module.exports = \"p {\\n  margin-left: 5px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n  font-size: 13px;\\n  color: whitesmoke;\\n}\\n\\n#container {\\n  height:100%;\\n  overflow: scroll;\\n}\\n\\n::-webkit-scrollbar {\\n  width: 5px;  /* for vertical scrollbars */\\n  height: 0px; /* for horizontal scrollbars */\\n}\\n\\n::-webkit-scrollbar-track {\\n  background: rgba(190, 190, 190, 0.267);\\n}\\n\\n::-webkit-scrollbar-thumb {\\n  background: rgba(255, 255, 255, 0.616);\\n}\"","module.exports = \"<div id=\\\"container\\\">\\n<p>You: {{ownUsername}}</p>\\n<p *ngFor=\\\"let peer of peerList | keyvalue\\\">{{peer.value}}</p>\\n</div>\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { SocketsService } from 'src/app/services/sockets.service';\n\n@Component({\n  selector: 'app-drawchat-userlist',\n  templateUrl: './drawchat-userlist.component.html',\n  styleUrls: ['./drawchat-userlist.component.css']\n})\nexport class DrawchatUserlistComponent implements OnInit, OnDestroy {\n\n  peerList = {};\n  ownUsername = \"\";\n\n  constructor(private socket: SocketsService) { }\n  destroy: Subject<boolean> = new Subject<boolean>();\n\n  ngOnInit() {\n\n    this.subscribeToRoomEvents()\n  }\n\n  ngOnDestroy() {\n    this.destroy.next(true);\n    this.destroy.unsubscribe();\n  }\n\n  subscribeToRoomEvents() {\n    this.socket.roomModule.onPeerJoin()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addToPeerList.bind(this));\n\n    this.socket.roomModule.onReceivingPeerInfo()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.addToPeerList.bind(this));\n\n    this.socket.roomModule.onPeerLeave()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.removeFromPeerList.bind(this));\n\n    this.socket.roomModule.onUsernameAssigned()\n      .pipe(takeUntil(this.destroy))\n      .subscribe(this.setOwnUsername.bind(this));\n  }\n\n\n  addToPeerList({ username, id }) {\n    this.peerList[id] = username;\n  }\n\n  initializePeerList(peerList) {\n    Object.entries(peerList).forEach(([id, data]) =>\n      this.addToPeerList({ username: data['username'], id })\n    );\n  }\n\n  removeFromPeerList({ id }) {\n    if (this.peerList[id]) {\n      delete this.peerList[id];\n    }\n  }\n\n  setOwnUsername({ username }) {\n    this.ownUsername = username;\n  }\n}\n","module.exports = \"#mainContent {\\n  vertical-align: top;\\n  display: inline-block;\\n  width: calc(100vw - 250px);\\n  height: 100vh;\\n}\\n\\n  #canvasFrame {\\n    position: relative;\\n    width: calc(100% - 80px );\\n    height: calc(100% - 150px);\\n    display: inline-block;\\n    vertical-align: top;\\n  }\\n\\n  #toolbar {\\n    vertical-align: top;\\n    width: 80px;\\n    display: inline-block;\\n    background-color: rgb(53, 56, 58);\\n    height: calc(100% - 150px);\\n    padding: 15px;\\n  }\\n\\n  #zoomSlider {\\n    vertical-align: top;\\n    display: inline-block;\\n    width: 70px;\\n    padding-top: 10px;\\n    height: 100%;\\n    background-color: rgb(53, 56, 58);\\n  }\\n\\n  #zoomSlider input {\\n      position: relative;\\n      top: 30%;\\n      left: -30%;\\n      -webkit-transform: rotate(270deg);\\n              transform: rotate(270deg);\\n      -webkit-appearance: none;\\n      background-color: #00000000;\\n      width: 90px;\\n    }\\n\\n  input[type=range]:focus {\\n      outline: none;\\n    }\\n\\n  input[type=range]::-webkit-slider-runnable-track {\\n      width: 100%;\\n      height: 5px;\\n      cursor: pointer;\\n      background-color: rgba(255, 255, 255, 0.575);\\n      border-radius: 5px;\\n      -webkit-appearance: none;\\n      border: 1px solid #000000;\\n    }\\n\\n  input[type=range]::-webkit-slider-thumb {\\n      border: 1px solid #000000;\\n      height: 20px;\\n      width: 13px;\\n      border-radius: 5px;\\n      background: rgba(255, 255, 255, 0.842);\\n      cursor: pointer;\\n      -webkit-appearance: none;\\n      margin-top: -11px;\\n    }\\n\\n  #zoomSlider img {\\n      width:13px;\\n      height:auto;\\n    }\\n\\n  #zoomSlider {\\n      font-weight: bold;\\n      color: whitesmoke;\\n      font-size: 13px;\\n    }\\n\\n  app-drawchat-palette {\\n    vertical-align: top;\\n    display: inline-block;\\n    width: calc(100% - 470px);\\n    height:100%;\\n    background-color: rgb(53, 56, 58);\\n    border-left: 1px solid rgb(165, 159, 161);\\n  }\\n\\n  #brushSettings {\\n    width: 100%;\\n    height: 150px;\\n  }\\n\\n  #sideBar {\\n  vertical-align: top;\\n  display: inline-block;\\n  background-color: rgb(53, 56, 58);\\n  border-left: 1px solid white;\\n  width: 230px;\\n  height: 100vh;\\n}\\n\\n  #leaveButton {\\n  width: 20%;\\n  height:40px;\\n  border-radius: 5px;\\n  padding-top:5px;\\n  background-color: rgb(180, 57, 84);\\n}\\n\\n  #leaveButton:hover {\\n  cursor: pointer;\\n  background-color: rgb(216, 83, 111);\\n\\n}\\n\\n  app-drawchat-timer {\\n  display: inline-block;\\n  vertical-align: top;\\n  width:80%;\\n  height:10vh;\\n}\\n\\n  app-drawchat-userlist {\\n  display: block;\\n  width:100%;\\n  height:30vh;\\n  margin-top: 2vh;\\n  margin-bottom: 2vh;\\n  border-top: 1px solid whitesmoke; \\n  border-bottom: 1px solid whitesmoke;\\n}\\n\\n  app-drawchat-chat {\\n  display: block;\\n  width:100%;\\n  height:54vh;\\n  border-top: 1px solid whitesmoke; \\n  border-bottom: 1px solid whitesmoke\\n}\\n\\n\"","module.exports = \"<div id=\\\"mainContent\\\">\\n<div id=\\\"canvasFrame\\\">\\n  <app-drawchat-canvas \\n    [currZoom]=\\\"zoom\\\" \\n  >\\n  </app-drawchat-canvas>\\n</div>\\n<app-drawchat-tools id=\\\"toolbar\\\">\\n</app-drawchat-tools>\\n\\n<div id=\\\"brushSettings\\\">\\n  <app-drawchat-sliders></app-drawchat-sliders>\\n\\n  <div id=\\\"zoomSlider\\\">\\n    <img src=\\\"assets/zoom.png\\\" alt=\\\"zoom\\\"> {{zoom * 100}}%\\n    <input type=\\\"range\\\" \\n      name=\\\"zoom\\\" \\n      [(ngModel)]=\\\"zoom\\\" \\n      min=\\\"1\\\" max=\\\"5\\\" step=\\\"0.5\\\">\\n  </div>\\n  \\n  <app-drawchat-palette></app-drawchat-palette>\\n</div>\\n</div>\\n\\n<div id=\\\"sideBar\\\">\\n  <app-drawchat-timer></app-drawchat-timer>\\n  <button [routerLink]=\\\"['/']\\\" id=\\\"leaveButton\\\"><img src=\\\"assets/leave.png\\\" alt=\\\"\\\"></button>\\n  <app-drawchat-userlist></app-drawchat-userlist>\\n  <app-drawchat-chat></app-drawchat-chat>\\n</div>\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Subject } from 'rxjs';\n\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\nimport { DrawchatDisconnectModalComponent } from '../drawchat-disconnect-modal/drawchat-disconnect-modal.component';\nimport { Router } from '@angular/router';\n\nimport { SocketsService } from '../../services/sockets.service';\nimport { DrawchatBrushService } from '../../services/drawchat-brush.service';\n\n@Component({\n  selector: 'app-drawchat',\n  templateUrl: './drawchat.component.html',\n  styleUrls: ['./drawchat.component.css'],\n  providers: [DrawchatBrushService]\n})\nexport class DrawchatComponent implements OnInit, OnDestroy {\n  zoom = 1;\n\n  destroy: Subject<boolean> = new Subject<boolean>();\n\n  bsModalRef: BsModalRef;\n\n  constructor(\n    private _route: ActivatedRoute,\n    private _socket: SocketsService,\n    private modalService: BsModalService,\n    private _router: Router,\n\n  ) { }\n\n  ngOnInit() {\n    this._route.params.subscribe((params: Params) => {\n      const roomId = params['id'];\n      this._socket.connectionModule.joinRoom(roomId);\n    });\n\n    this._socket.connectionModule.onForceDisconnect()\n      .subscribe(this.showDisconnectModal.bind(this))\n\n  }\n\n  showDisconnectModal() {\n    this.bsModalRef = this.modalService.show(DrawchatDisconnectModalComponent);\n    (this.bsModalRef.content as DrawchatDisconnectModalComponent).formDone\n      .subscribe(() => {\n        this._router.navigate(['/']);\n        this.bsModalRef.hide();\n      })\n  }\n\n  ngOnDestroy() {\n    this._socket.connectionModule.leaveRoom();\n    this.destroy.next(true);\n    this.destroy.unsubscribe();\n  }\n\n}\n","module.exports = \"#mainContainer {\\n  height:100vh;\\n  width: 100vw;\\n  \\n}\\napp-roomlist {\\n  position: relative;\\n  vertical-align: top;\\n  display: inline-block;\\n  height: 100%;\\n  width: 300px;\\n  overflow: scroll;\\n}\\napp-room {\\n  vertical-align: top;\\n  display: inline-block;\\n  height:100%;\\n  width: calc(100% - 300px);\\n  margin-right: -10px;\\n  overflow: scroll;\\n}\\n.bg-lightgrey {\\n  background-color: rgb(214, 226, 230)\\n}\\n::-webkit-scrollbar {\\n  width: 10px;  /* for vertical scrollbars */\\n  height: 0px; /* for horizontal scrollbars */\\n}\\n::-webkit-scrollbar-track {\\n  background: rgba(0, 0, 0, 0.1);\\n}\\n::-webkit-scrollbar-thumb {\\n  background: rgba(226, 226, 226, 0.8);\\n}\"","module.exports = \"<nav class=\\\"navbar fixed-top bg-transparent\\\">\\n  <ul class=\\\"nav nav-pills\\\">\\n    <li *ngIf=\\\"!isLoggedIn()\\\" class=\\\"nav-item\\\">\\n      <a class=\\\"nav-link bg-light\\\"  (click)=\\\"showLoginForm()\\\">Log in</a>\\n    </li>\\n    <li *ngIf=\\\"!isLoggedIn()\\\" class=\\\"nav-item\\\">\\n      <a class=\\\"nav-link bg-light ml-2\\\"  (click)=\\\"showSignupForm()\\\">Sign up</a>\\n    </li>\\n\\n    <li *ngIf=\\\"isLoggedIn()\\\" class=\\\"nav-item\\\">\\n      <a class=\\\"nav-link bg-light ml-2\\\" (click)=\\\"showCreateRoomForm()\\\">Create room</a>\\n    </li>\\n\\n    <li *ngIf=\\\"isLoggedIn()\\\" class=\\\"nav-item\\\">\\n        <a class=\\\"nav-link bg-light ml-2\\\" (click)=\\\"logout()\\\">Log out</a>\\n      </li>\\n  </ul>\\n</nav>\\n<div id=\\\"mainContainer\\\" class=\\\"bg-dark\\\">\\n  <app-room \\n    [roomToShow]=\\\"roomToShow\\\"\\n    (queryEmitted)=\\\"setRoomListQuery($event)\\\"\\n  ></app-room>\\n  <app-roomlist \\n    (roomClicked)=\\\"setRoomToShow($event)\\\"\\n    [query]=\\\"currQuery\\\" \\n  >\\n  </app-roomlist>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\n\n\nimport { LoginFormComponent } from '../loginform/loginform.component';\nimport { SignupFormComponent } from '../signupform/signupform.component';\nimport { CreateRoomFormComponent } from '../createroomform/createroomform.component';\nimport { SessionService } from '../../services/session.service';\n\n\n@Component({\n  selector: 'app-hub',\n  templateUrl: './hub.component.html',\n  styleUrls: ['./hub.component.css']\n})\nexport class HubComponent implements OnInit {\n  currQuery = {};\n  roomToShow = {}\n\n  bsModalRef: BsModalRef;\n\n  constructor(\n    private modalService: BsModalService,\n    private _sessionService: SessionService,\n    private _router: Router,\n  ) { }\n  \n  ngOnInit() {\n    \n  }\n\n  showLoginForm() {\n    this.bsModalRef = this.modalService.show(LoginFormComponent);\n    this.bsModalRef.content.closeBtnName = 'Close';\n  }\n\n  showSignupForm() {\n    this.bsModalRef = this.modalService.show(SignupFormComponent);\n    this.bsModalRef.content.closeBtnName = 'Close';\n  }\n\n  showCreateRoomForm() {\n    this.bsModalRef = this.modalService.show(CreateRoomFormComponent);\n    (this.bsModalRef.content as CreateRoomFormComponent).formDone\n      .subscribe(roomId => {\n        this._router.navigate(['/draw/' + roomId]);\n      })\n    this.bsModalRef.content.closeBtnName = 'Close';\n  }\n\n  setRoomToShow(room) {\n    this.roomToShow = room;\n  }\n  \n  setRoomListQuery(e) {\n    this.currQuery = e;\n  }\n\n  logout() {\n    this._sessionService.removeUserToken();\n  }\n\n  isLoggedIn() {\n    return this._sessionService.getUserToken() !== null;\n  }\n\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"modal-header\\\">\\n  <h4 class=\\\"modal-title pull-left\\\">{{title}}</h4>\\n  <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\n  </button>\\n</div>\\n<div class=\\\"modal-body\\\" (submit)=\\\"onSubmit()\\\">\\n    <form >\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"username\\\">Username:</label>\\n          <input \\n            class=\\\"form-control\\\" \\n            name=\\\"username\\\" \\n            [(ngModel)]=\\\"postData.username\\\"\\n          />\\n        </div>\\n  \\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"password\\\">Password:</label>\\n          <input \\n            type=\\\"password\\\" \\n            class=\\\"form-control\\\" \\n            name=\\\"password\\\" \\n            [(ngModel)]=\\\"postData.password\\\"\\n          />\\n        </div>\\n    \\n        <button type=\\\"submit\\\" class=\\\"btn btn-success\\\">Submit</button>\\n  \\n      </form>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n  <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"bsModalRef.hide()\\\">{{closeBtnName}}</button>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\nimport { UserService } from '../../services/user.service';\nimport { SessionService } from '../../services/session.service';\n\n@Component({\n  selector: 'app-loginform',\n  templateUrl: './loginform.component.html',\n  styleUrls: ['./loginform.component.css']\n})\nexport class LoginFormComponent implements OnInit {\n  title: string;\n  closeBtnName: string;\n  postData = {\n    username: \"\",\n    password: \"\"\n  }\n\n  constructor(\n    public bsModalRef: BsModalRef,\n    private _userService: UserService,\n    private _sessionService: SessionService) { }\n\n  ngOnInit() {\n    this.title = \"Login\"\n  }\n\n  onSubmit() {\n    console.log(\"CLICKED ONSUBMIT\")\n    this._userService\n      .signIn(this.postData)\n      .subscribe(response => {\n        console.log(response)\n        if (response['status'] === 'success') {\n          const token = response['token'];\n          this._sessionService.setUserToken(token);\n          this.bsModalRef.hide();\n        }\n      })\n  }\n  \n\n}\n","module.exports = \"#lower {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  background-color: white;\\n}\\n\\n#upper {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n}\\n\\n#blackscreen {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 96%;\\n  margin-left: 2%; \\n  height: 100%;\\n  z-index: 9;\\n}\\n\\n#playbutton {\\n  position: relative;\\n  width:20%;\\n  height:auto;\\n  top: 30%;\\n  left: 40%\\n}\\n\\n#canvasContainer {\\n  position: relative;\\n  top: 0;\\n  left: 0;\\n  padding-top: 56.25%;\\n  overflow: scroll;\\n}\"","module.exports = \"\\n<div id=\\\"canvasContainer\\\">\\n  <canvas width=\\\"1820\\\" height=\\\"1024\\\" #lower id=\\\"lower\\\"></canvas>\\n  <canvas width=\\\"1820\\\" height=\\\"1024\\\" #upper id=\\\"upper\\\"></canvas>\\n</div>\\n\\n<div *ngIf=\\\"!playbackStarted\\\" id=\\\"blackscreen\\\" (click)=\\\"playClicked()\\\">\\n  <img id=\\\"playbutton\\\" src=\\\"assets/playbutton.png\\\">\\n</div>\\n<button (click)=\\\"setPlaySpeed(200)\\\">1x</button>\\n<button (click)=\\\"setPlaySpeed(30)\\\">2x</button>\"","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\nimport { map, delay, concatMap, tap, windowCount, mergeAll, take } from 'rxjs/operators';\nimport { PaintCursor } from '../../draw_modules/paintcursor';\nimport { DrawchatService } from '../../services/drawchat.service';\nimport { from, zip, of } from 'rxjs';\n\n\ninterface StrokeData {\n  rgba: any[];\n  size: number;\n  x: number[];\n  y: number[];\n}\n\n@Component({\n  selector: 'app-playback',\n  templateUrl: './playback.component.html',\n  styleUrls: ['./playback.component.css']\n})\nexport class PlaybackComponent implements OnInit {\n  @Input() roomId;\n\n  @ViewChild('lower') lowerRef: ElementRef\n  @ViewChild('upper') upperRef: ElementRef\n\n\n  baseCtx: CanvasRenderingContext2D;\n  topCtx: CanvasRenderingContext2D;\n\n  strokeLog = [];\n\n  playbackStarted = false;\n\n  currPlaySpeed = 50;\n\n  constructor(\n    private _drawChatService: DrawchatService,\n  ) { }\n\n  ngOnInit() {\n    this.baseCtx = this.lowerRef.nativeElement.getContext('2d');\n    this.topCtx = this.upperRef.nativeElement.getContext('2d');\n  }\n\n  playClicked() {\n    if (this.playbackStarted) { return; }\n    this.playbackStarted = true;\n\n    this._drawChatService.fetchLog(this.roomId)\n      .pipe(\n        take(1),\n        map(data => data as Array<StrokeData>),\n        concatMap(this.startDrawing.bind(this))\n      )\n      .subscribe();\n  }\n\n  startDrawing(strokeLog: StrokeData[]) {\n    const delayVal = (interval: number) =>\n      (val: [number, number]) => of(val).pipe(delay(interval));\n\n    const startNewStroke = (brush: PaintCursor) => \n      ({ rgba, size, x, y }: StrokeData) => {\n        brush.endAction()\n          .setColor(rgba).setSize(size)\n          .moveTo(x[0], y[0])\n          .startAction();\n    };\n\n    const moveAlongPath = (brush: PaintCursor) => \n      ({ x, y }: StrokeData) =>\n       // Zip pathX, pathY together into a an array of points\n        zip(from(x), from(y))\n          .pipe(\n            windowCount(50),\n            mergeAll(),\n            concatMap(delayVal(this.currPlaySpeed)), \n            map(([x, y]) => { brush.moveTo(x, y) }) // Map each point into a move operation\n          );\n\n    const drawStroke = (brush: PaintCursor) => (stroke: StrokeData) =>\n      of(stroke)\n        .pipe(\n          tap(startNewStroke(brush)),\n          concatMap(moveAlongPath(brush))\n        );\n\n    const drawWithBrush = (brush: PaintCursor) =>\n      from(strokeLog)\n        .pipe(\n          windowCount(50),\n          mergeAll(),\n          concatMap(drawStroke(brush))\n        );\n        \n    // Execute\n    return of(new PaintCursor(this.baseCtx).setUpperLayer(this.topCtx))\n      .pipe(concatMap(drawWithBrush))\n  }\n\n  setPlaySpeed(spd: number) {\n    this.currPlaySpeed = spd;\n  }\n}\n","module.exports = \"\\n\\napp-playbck {\\n  position: relative;\\n  /* padding-top: 56.25%;\\n  overflow: scroll; */\\n}\\n\\n#greeting {\\n  position: relative;\\n  top: 10vh;\\n  left: 30px;\\n}\\n\\n#greeting img {\\n  /* margin-top: 30%; */\\n  width:90%;\\n  height:auto;\\n}\"","module.exports = \"<h1 *ngIf=\\\"!currentlyShowingRoom()\\\" id=\\\"greeting\\\">\\n  <img src=\\\"assets/banner.png\\\" alt=\\\"\\\">\\n</h1>\\n<div *ngIf=\\\"currentlyShowingRoom()\\\">\\n  <div class=\\\"row ml-1 mr-3 mt-5 pt-3\\\">\\n    <div class=\\\"col-2 mt-3 small font-weight-bold text-dark\\\">\\n      <p class=\\\"m-2 border-bottom border-light text-center text-light\\\">Users:</p>\\n\\n      <p *ngFor=\\\"let user of roomToShow.users\\\" class=\\\"mb-1 ml-2 text-light\\\">\\n        <a (click)=\\\"userClicked(user.id)\\\">{{user.username}}</a>\\n      </p>\\n    </div>\\n    <div id=\\\"playbackContainer\\\" class=\\\" col-10 ml-auto mt-2\\\">\\n      <div id=\\\"canvasContainer\\\">\\n        <app-playback [roomId]=roomToShow.id></app-playback>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-10 ml-auto mb-5\\\">\\n    <div class=\\\"mx-auto mt-2 border-bottom text-light\\\">\\n      <h2>\\n        {{ roomToShow.name }}\\n        <button *ngIf=\\\"roomToShow.isActive\\\" class=\\\"btn btn-outline-light\\\" [routerLink]=\\\"['/draw', roomToShow.id ]\\\">Join!</button>\\n      </h2>\\n      <p>\\n        <span *ngFor=\\\"let tag of roomToShow.tags\\\" class=\\\"badge badge-secondary mx-1\\\" (click)=\\\"tagClicked(tag)\\\">\\n          {{tag}}\\n        </span>\\n      </p>\\n      <div class=\\\"btn-group\\\" role=\\\"group\\\" aria-label=\\\"Basic example\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\">Description</button>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"row mx-auto mt-2 text-light font-weight-bold\\\">\\n      {{ roomToShow.description }}\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, Input,\n  Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-room',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.css']\n})\nexport class RoomComponent implements OnInit {\n  @Output() queryEmitted = new EventEmitter();\n  @Input() roomToShow = {};\n\n\n  constructor(\n  ) { }\n\n  ngOnInit() {\n  }\n\n\n\n  currentlyShowingRoom() {\n    return Object.keys(this.roomToShow).length !== 0\n  }\n\n  userClicked(user) {\n    this.queryEmitted.emit({ user })\n  }\n\n  tagClicked(tag) {\n    this.queryEmitted.emit({ tag })\n  }\n\n \n}\n","module.exports = \".card-img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n.inactive {\\n  opacity: 0.7;\\n}\"","module.exports = \"<ul class=\\\"list-group mx-1\\\">\\n\\n    <li *ngFor=\\\"let room of rooms\\\" \\n      class=\\\"list-group-item p-0 m-2 bg-dark text-white border-light font-weight-bold\\\"\\n      (click)=\\\"onRoomClicked(room)\\\"\\n      [ngClass]=\\\"{ 'inactive': !room.isActive }\\\"\\n    >\\n      <h6 class=\\\"small m-2\\\">\\n        {{room['name']}}\\n        <span class=\\\"badge badge-pill\\\" \\n        [ngClass]=\\\"{\\n          'badge-success': room.isActive,\\n          'badge-danger' : !room.isActive\\n        }\\\">\\n        {{ room.isActive ? 'Live!' : 'Done'}}\\n        </span>\\n      </h6>\\n      <img class=\\\"card-img bg-white\\\" [src]=\\\"room.thumbUrl\\\" alt=\\\"\\\">\\n      <p class=\\\"small mx-2 my-1\\\">Created on: {{room['created_at'] | date: 'dd/MM/yyyy'}}</p>\\n    </li>\\n\\n  </ul>\\n\"","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { DrawchatService } from '../../services/drawchat.service';\nimport { environment } from '../../../environments/environment';\n@Component({\n  selector: 'app-roomlist',\n  templateUrl: './roomlist.component.html',\n  styleUrls: ['./roomlist.component.css']\n})\nexport class RoomlistComponent implements OnInit, OnChanges {\n  rooms = [];\n  @Input() query = {};\n  @Output() roomClicked = new EventEmitter();\n\n  constructor(\n    private _drawChatService: DrawchatService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n\n    this.getQueryObservable(this.query)\n      .subscribe(results => {\n        if (results['status'] !== \"success\") { return; }\n        this.rooms = results['data'];\n\n        const now = new Date();\n        for (let i = 0; i < this.rooms.length; i++) {\n          this.rooms[i]['isActive'] = new Date(this.rooms[i]['expires_at']) > now;\n          this.rooms[i]['thumbUrl'] = environment.endpoints.thumb + `${this.rooms[i]['id']}_snapshot.png` ;\n          console.log(this.rooms[i]['thumbUrl']);\n        }\n        this.rooms.reverse()\n      })\n  }\n\n  getQueryObservable(query) {\n    if (query['user']) {\n      return this._drawChatService.fetchRoomsByJoiner(query['user']);\n    } else if (query['tag']) {\n      return this._drawChatService.fetchRoomsByTag(this.query['tag'])\n    }\n    return this._drawChatService.fetchRooms();\n  }\n\n  onRoomClicked(room) {\n    this.roomClicked.emit(room);\n  }\n\n}\n","module.exports = \".ng-valid[required]:not(.ng-pristine), .ng-valid.required:not(.ng-pristine), .good-confirm:not(.ng-pristine)  {\\n  border-left: 5px solid #42A948; \\n}\\n\\n.ng-invalid:not(form):not(.ng-pristine), .bad-confirm  {\\n  border-left: 5px solid #a94442; \\n}\\n\"","module.exports = \"<div class=\\\"modal-header\\\">\\n  <h4 class=\\\"modal-title pull-left\\\">{{title}}</h4>\\n  <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"bsModalRef.hide()\\\">\\n    <span aria-hidden=\\\"true\\\">&times;</span>\\n  </button>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <form #signUpForm=\\\"ngForm\\\" (submit)=\\\"onSubmit()\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"username\\\">Username:</label>\\n        <input \\n          type=\\\"text\\\" \\n          class=\\\"form-control\\\" \\n          id=\\\"name\\\"\\n          name=\\\"username\\\" \\n          [(ngModel)]=\\\"postData.username\\\"\\n          #username=\\\"ngModel\\\"\\n          minlength=\\\"2\\\" \\n          required\\n        />\\n      </div>\\n\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"password\\\">Password:</label>\\n        <input \\n          type=\\\"password\\\" \\n          class=\\\"form-control\\\" \\n          id=\\\"password\\\"\\n          name=\\\"password\\\" \\n          #password=\\\"ngModel\\\"\\n          minlength=\\\"8\\\" \\n          [(ngModel)]=\\\"postData.password\\\"\\n          required\\n        />\\n      </div>\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"password\\\">Confirm password:</label>\\n        <input \\n          type=\\\"password\\\" \\n          class=\\\"form-control\\\" \\n          name=\\\"confirm\\\" \\n          [(ngModel)]=\\\"postData.confirm\\\"\\n          id=\\\"confirm\\\"\\n          [ngClass]=\\\"{ 'bad-confirm': !confirmMatch(), 'good-confirm': confirmMatch()}\\\"\\n        />\\n      </div>\\n\\n      <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!signUpForm.form.valid\\\">Submit</button>\\n\\n    </form>\\n  </div>\\n<div class=\\\"modal-footer\\\">\\n  <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"bsModalRef.hide()\\\">{{closeBtnName}}</button>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\nimport { UserService } from '../../services/user.service';\nimport { SessionService } from '../../services/session.service';\n\n@Component({\n  selector: 'app-signupform',\n  templateUrl: './signupform.component.html',\n  styleUrls: ['./signupform.component.css']\n})\nexport class SignupFormComponent implements OnInit {\n\n  title: string;\n  closeBtnName: string;\n  postData = {\n    username: \"\",\n    password: \"\",\n    confirm: \"\"\n  }\n\n  constructor(\n    public bsModalRef: BsModalRef,\n    private _userService: UserService,\n    private _sessionService: SessionService) { }\n\n  ngOnInit() {\n    this.title = \"Sign up\"\n  }\n\n  confirmMatch() {\n    const { password, confirm } = this.postData;\n    return password && password === confirm;\n  }\n\n  onSubmit() {\n    const { username, password } = this.postData;\n    this._userService\n      .signUp({ username, password })\n      .subscribe(response => {\n        const token = response['token'];\n        this._sessionService.setUserToken(token);\n        this.bsModalRef.hide();\n      })\n  }\n}\n","interface StrokeData {\n  rgba: any[],\n  size: number,\n  x: number[],\n  y: number[]\n}\n\n\ninterface IPaintTool {\n  rgba: any[];\n  size: number;\n\n  setColor(color: any[])\n  setSize(size: number)\n  setCtx(ctx: CanvasRenderingContext2D)\n  setBase(ctx: CanvasRenderingContext2D)\n\n  onActivate(x: number, y: number)\n  onMoveWhileActivated(x: number, y: number)\n  onDeactivate()\n  isActivated()\n  getActionData(): StrokeData\n}\n\nexport class Brush implements IPaintTool {\n\n  static default = {\n    rgba: [1, 1, 1, 1],\n    size: 1,\n  }\n\n  rgba: number[];\n  size: number;\n  ctx: CanvasRenderingContext2D;\n  baseCtx: CanvasRenderingContext2D;\n\n  pathX: number[] = [];\n  pathY: number[] = [];\n\n  private minX: number;\n  private minY: number;\n  private maxX: number;\n  private maxY: number;\n\n\n  constructor(ctx: CanvasRenderingContext2D) {\n    this.ctx = ctx;\n    this.baseCtx = ctx;\n    this.ctx.lineCap = 'round';\n    this.ctx.lineJoin = 'round';\n    this.rgba = Brush.default.rgba;\n    this.size = Brush.default.size;\n\n  }\n\n  setCtx(ctx: CanvasRenderingContext2D) {\n    this.ctx = ctx;\n    return this;\n  }\n  setBase(ctx: CanvasRenderingContext2D) {\n    this.baseCtx = ctx;\n    return this;\n  }\n\n  onActivate(x: number, y: number) {\n    return this.startAt(x, y);\n  }\n\n  onMoveWhileActivated(x: number, y: number) {\n    return this.drawTo(x, y);\n  }\n\n  onDeactivate() {\n    return this.setOn(this.baseCtx).reset();\n  }\n\n  isActivated() {\n    return this.isDrawing();\n  }\n\n  getActionData(): StrokeData {\n    return this.getData();\n  }\n\n  startAt(x: number, y: number) {\n    this.setInitialPoint(x, y);\n    this.draw(this.ctx);\n    return this;\n  }\n\n  private setInitialPoint(x: number, y: number) {\n    this.pathX = [x];\n    this.pathY = [y];\n    this.minX = x;\n    this.minY = y;\n    this.maxX = x;\n    this.maxY = y;\n  }\n\n  drawTo(newX: number, newY: number) {\n    this.updateBoundingRectPoints(newX, newY);\n\n    this.updatePath(newX, newY);\n    this.clearStroke();\n\n    this.draw(this.ctx);\n    return this;\n  }\n\n  alphaModeIsOn() {\n    return this.rgba[3] !== 1;\n  }\n\n  updatePath(newX: number, newY: number) {\n    this.pathX.push(newX);\n    this.pathY.push(newY);\n  }\n\n  setOn(baseCtx: CanvasRenderingContext2D) {\n    this.clearStroke()\n\n    const saved = this.saveCtxSettings(baseCtx);\n    const keys = Object.keys(saved);\n    keys.forEach(key => {\n      baseCtx[key] = this.ctx[key];\n    });\n    this.draw(baseCtx);\n    this.restoreCtxSettings(baseCtx, saved);\n    return this;\n  }\n\n  private saveCtxSettings(ctx) {\n    return {\n      lineWidth: ctx.lineWidth,\n      lineCap: ctx.lineCap,\n      lineJoin: ctx.lineJoin,\n      fillStyle: ctx.fillStyle,\n      strokeStyle: ctx.strokeStyle\n    }\n  }\n\n  private restoreCtxSettings(ctx, saved) {\n    Object.keys(saved).forEach(key => {\n      ctx[key] = saved[key];\n    });\n  }\n\n  private clearStroke() {\n    const [minX, minY, maxX, maxY] = this.getBoundingRectPoints();\n    this.ctx.clearRect(minX, minY, maxX, maxY);\n  }\n\n  private updateBoundingRectPoints(newX: number, newY: number) {\n    if (this.minX > newX) { this.minX = newX }\n    else if (this.maxX < newX) { this.maxX = newX };\n    if (this.minY > newY) { this.minY = newY }\n    else if (this.maxY < newY) { this.maxY = newY };\n  }\n\n  private getBoundingRectPoints() {\n    const { width, height } = this.ctx.canvas;\n    const radius = this.size / 2;\n    return [\n      Math.max(this.minX - radius, 0),\n      Math.max(this.minY - radius - 5, 0), // Magic number- box ceiling is slightly too low without it\n      Math.min(this.maxX + radius, width),\n      Math.min(this.maxY + radius, height),\n    ]\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    if (this.pathX.length === 1) {\n      this.drawDot(ctx);\n    } else {\n      this.drawPath(ctx);\n    }\n    return this;\n  }\n\n\n  private drawPath(ctx: CanvasRenderingContext2D) {\n    ctx.beginPath();\n    const len = this.pathX.length;\n    ctx.moveTo(this.pathX[0], this.pathY[0]);\n    for (let i = 1; i < len; i++) {\n      ctx.lineTo(this.pathX[i], this.pathY[i]);\n    }\n    ctx.stroke();\n  }\n\n  private drawDot(ctx: CanvasRenderingContext2D) {\n    ctx.beginPath();\n    ctx.lineWidth = 1;\n    ctx.arc(this.pathX[0], this.pathY[0], this.size / 2, 0, 2 * Math.PI);\n    ctx.fill();\n    ctx.lineWidth = this.size;\n  }\n\n  setColor(rgba: any[]) {\n    this.setRgba(rgba)\n    this.setCtxStyle();\n    return this;\n  }\n\n  setRgba(rgba: any[]) {\n    const r = parseInt(rgba[0]);\n    const g = parseInt(rgba[1]);\n    const b = parseInt(rgba[2]);\n    const a = parseFloat(rgba[3]);\n    this.rgba = [r, g, b, a];\n  }\n\n  setCtxStyle() {\n    const cssString = `rgba(${this.rgba.join(', ')})`;\n    this.ctx.strokeStyle = cssString;\n    this.ctx.fillStyle = cssString;\n    return this;\n  }\n\n  setSize(size: number) {\n    this.size = size;\n    this.ctx.lineWidth = size;\n    return this;\n  }\n\n  reset() {\n    this.rgba = Brush.default.rgba;\n    this.size = Brush.default.size;\n    this.pathX = [];\n    this.pathY = [];\n    [this.minX, this.minY, this.maxX, this.maxY] = [null, null, null, null];\n    return this;\n  }\n\n  isDrawing(): boolean {\n    return this.pathX.length !== 0;\n  }\n\n  setData(data: StrokeData) {\n    this.rgba = data.rgba;\n    this.size = data.size;\n    this.pathX = data.x;\n    this.pathY = data.y;\n  }\n\n  getData(): StrokeData {\n    return {\n      rgba: this.rgba,\n      size: this.size,\n      x: this.pathX,\n      y: this.pathY\n    }\n  }\n}\n","import { Brush } from './brush'\nexport class Eraser extends Brush {\n\n  constructor(ctx: CanvasRenderingContext2D) {\n    super(ctx);\n    this.rgba = [255,255,255,1];\n    this.size = Brush.default.size;\n  }\n\n  setRgba(rgba: any[]) {\n    this.rgba = [255,255,255,1];\n    return this;\n  }\n}","import { PaintCursor } from './paintcursor';\nimport { Subject } from 'rxjs';\n// A wrapper around paintcursor where action events are subcribable\ninterface StrokeData {\n  rgba: any[],\n  size: number,\n  x: number[],\n  y: number[]\n}\n\nexport class ObservablePaintCursor extends PaintCursor {\n  onStart: Subject<{ tool: string, rgba: any[] }> = new Subject<{ tool: string, rgba: any[] }>();\n  onMove: Subject<{ x: number, y: number }> = new Subject<{ x: number, y: number }>();\n  onEnd: Subject<StrokeData> = new Subject<StrokeData>();\n\n  startAction() {\n    this.onStart.next({ tool: this.currToolName, rgba: this.rgba });\n    return super.startAction();\n  }\n\n  moveTo(x, y) {\n    this.onMove.next({ x, y });\n    return super.moveTo(x, y);\n  }\n\n  endAction() {\n    if (this.tool.isActivated()) {\n      const strokeData = this.tool.getActionData();\n      this.onEnd.next(strokeData);\n      this.tool.onDeactivate();\n    }\n    return this;\n  }\n}","import { Brush } from './brush'\nimport { Eraser } from './eraser';\nimport { Ruler } from './ruler';\n\n// Can't export interfaces apparently\ninterface StrokeData {\n  rgba: any[],\n  size: number,\n  x: number[],\n  y: number[]\n}\n\n\ninterface IPaintTool {\n  rgba: any[];\n  size: number;\n\n  setColor(color: any[])\n  setSize(size: number)\n  setCtx(ctx: CanvasRenderingContext2D)\n  setBase(ctx: CanvasRenderingContext2D)\n\n  onActivate(x: number, y: number)\n  onMoveWhileActivated(x: number, y: number)\n  onDeactivate()\n  isActivated()\n  getActionData(): StrokeData\n}\n\n\nexport class PaintCursor {\n\n  private static getToolCreator(tool) {\n    return {\n      'BRUSH': Brush,\n      'ERASER': Eraser,\n      'RULER': Ruler\n    }[tool];\n  }\n  \n  x: number;\n  y: number;\n  rgba = Brush.default.rgba;\n  size = Brush.default.size;\n\n  topCtx: CanvasRenderingContext2D;\n  baseCtx: CanvasRenderingContext2D;\n\n  label = \"\";\n  isVisible = true;\n\n  tool: IPaintTool;\n  currToolName: string;\n\n  constructor(baseCtx: CanvasRenderingContext2D) {\n    this.baseCtx = baseCtx;\n    this.baseCtx.lineCap = 'round';\n    this.baseCtx.lineJoin = 'round';\n    this.tool = new Brush(this.baseCtx)\n      .setCtx(baseCtx);\n    this.currToolName = 'BRUSH';\n  }\n\n  setUpperLayer(ctx: CanvasRenderingContext2D) {\n    this.topCtx = ctx;\n    this.topCtx.lineCap = 'round';\n    this.topCtx.lineJoin = 'round';\n    this.tool.setCtx(ctx);\n    return this;\n  }\n\n  startAction() {\n    this.tool.setColor(this.rgba);\n    this.tool.setSize(this.size);\n    this.tool.onActivate(this.x, this.y);\n    return this;\n  }\n\n  endAction() {\n    if (this.tool.isActivated()) {\n      this.tool.onDeactivate();\n      \n    }\n    return this;\n  }\n\n  moveTo(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n    if (this.tool.isActivated()) {\n      this.tool.onMoveWhileActivated(x, y)\n    }\n    return this;\n  }\n\n  hasOngoingAction() {\n    return this.tool.isActivated();\n  }\n\n  getActionData() {\n    return this.tool.getActionData();\n  }\n\n  setTool(currTool: string) {\n    if (currTool === this.currToolName) { return this; }\n    if (currTool !== 'BRUSH' && currTool !== 'ERASER' && currTool !== 'RULER') { return this; }\n    this.currToolName = currTool;\n    const newTool = PaintCursor.getToolCreator(currTool);\n    this.tool = new newTool(this.baseCtx);\n   \n    this.tool\n      .setCtx(this.topCtx || this.baseCtx)\n      .setColor(this.rgba)\n      .setSize(this.size);\n    return this;\n  }\n\n  setColor(rgba: any[]) {\n    this.rgba = rgba;\n    this.tool.setColor(rgba)\n    return this;\n  }\n\n  setSize(size: number) {\n    this.size = size;\n    this.tool.setSize(size);\n    return this;\n  }\n\n  setLabel(label: string) {\n    this.label = label;\n    return this;\n  }\n\n  show() {\n    this.isVisible = true;\n    return this;\n  }\n\n  hide() {\n    this.isVisible = false;\n    return this;\n  }\n\n}","import { Brush } from './brush'\n\nexport class Ruler extends Brush {\n\n  updatePath(newX: number, newY: number) {\n    this.pathX[1] = newX;\n    this.pathY[1] = newY;\n  }\n}","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { Brush } from '../draw_modules/brush'\n// Keeps track of state for brush - color and size\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawchatBrushService {\n  rgba: any[] = Brush.default.rgba;\n  size: number = Brush.default.size;\n  tool: string = 'BRUSH';\n\n  colorChanged: Subject<any[]> = new Subject<any[]>();\n  sizeChanged: Subject<number> = new Subject<number>();\n  toolChanged: Subject<string> = new Subject<string>();\n\n  constructor() { }\n\n  changeSize(size: number) {\n    this.size = size;\n    this.sizeChanged.next(size);\n  }\n\n  changeColor(rgb: any[]) {\n    try {\n      const r = parseInt(rgb[0]);\n      const g = parseInt(rgb[1]);\n      const b = parseInt(rgb[2]);\n      this.rgba = [r, g, b, this.rgba[3]]\n    } catch { return; }\n    this.colorChanged.next(this.rgba);\n  }\n\n  changeAlpha(a: number) {\n    this.rgba[3] = a;\n    this.colorChanged.next(this.rgba);\n  }\n\n  changeColorAndAlpha(rgba: any[]) {\n    try {\n    const r = parseInt(rgba[0]);\n    const g = parseInt(rgba[1]);\n    const b = parseInt(rgba[2]);\n    const a =  parseFloat(rgba[3]);\n    this.rgba = [r, g, b, a]\n    } catch { return; }\n    this.colorChanged.next(this.rgba);\n  } \n\n  changeTool(tool: string) {\n    this.tool = tool;\n    this.toolChanged.next(tool);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawchatColorService {\n\n  private currRgb = [1, 1, 1,]\n\n  constructor() { }\n\n  get(rgbOrHsl: string) {\n    if (rgbOrHsl == 'rgb') {\n      return this.currRgb;\n    } else if (rgbOrHsl == 'hsl') {\n      return this.rgbToHsl(this.currRgb);\n    }\n  }\n\n  set({rgbOrHsl, vals }: {rgbOrHsl: string, vals: any[] }) {\n    if (rgbOrHsl == 'rgb') {\n      this.currRgb = vals;\n      return;\n    } else if (rgbOrHsl == 'hsl') {\n      this.currRgb = this.hslToRgb(vals);\n      return;\n    }\n  }\n  \n  \n\n  private hslToRgb([h, s, l]: number[]) {\n    h /= 360, s /= 100, l /= 100;\n    var r, g, b;\n\n    if (s == 0) {\n      r = g = b = l; // achromatic\n    } else {\n      var hue2rgb = function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n      }\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1 / 3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n  }\n\n  private rgbToHsl([r, g, b]: number[]) {\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n      h = s = 0; // achromatic\n    } else {\n      var d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n      }\n      h /= 6;\n    }\n    return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DrawchatService } from './drawchat.service';\nimport { environment } from '../../environments/environment';\n// TODO: Double responsibility - keeping the room state and \n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawchatTokenCalculatorService {\n  private TOKEN_CAP = environment.roomTimer.tokenCap;\n  private TOKEN_INTERVAL = environment.roomTimer.tokenInterval;\n  private TOKEN_TIME_VALUE = environment.roomTimer.tokenTimeValue;\n\n  createdAt: number;\n  expiresAt: number;\n\n  constructor(private drawChatService: DrawchatService) {}\n\n  roomIsActive() {\n    const now = new Date().getTime();\n    return now < this.expiresAt;\n  }\n\n  getTokensConsumed() {\n    return Math.round((this.expiresAt - this.createdAt) / this.TOKEN_TIME_VALUE) - 1;\n  }\n\n  getTokensAvailable() {\n    const now = new Date().getTime();\n    const tokensReceivedByNow = Math.floor((now - this.createdAt) / this.TOKEN_INTERVAL);\n    return Math.min(tokensReceivedByNow, this.TOKEN_CAP) - this.getTokensConsumed();\n  }\n\n  getTimeTilNextToken() {\n    const now = new Date().getTime();\n\n    if (this.getTokensConsumed() >= this.TOKEN_CAP) {\n      return null;\n    }\n    const timeSinceLastToken = (now - this.createdAt) % this.TOKEN_INTERVAL;\n    return this.TOKEN_INTERVAL - timeSinceLastToken;\n  }\n\n  getTimeTilExpire() {\n    const now = new Date().getTime();\n    return Math.max(this.expiresAt - now, 0);\n  }\n\n  getTokenInterval() {\n    return this.TOKEN_INTERVAL;\n  }\n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { SessionService } from './session.service';\nimport { map } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawchatService {\n\n  constructor(\n    private _http: HttpClient,\n    private _sessionService: SessionService\n    ) { }\n\n  createRoom(data) {\n    const header = this._sessionService.getTokenHeader();\n    return this._http.post('/rooms/create', data, header);\n  }\n\n  fetchRooms() {\n    return this._http.get('/rooms');\n  }\n\n  fetchRoom(id) {\n\n  }\n\n  fetchRoomsByJoiner(joinerId) {\n    return this._http.get('/rooms?user=' + joinerId);\n  }\n\n  fetchRoomsByTag(tag) {\n    return this._http.get('/rooms?tag=' + tag);\n  }\n\n  fetchLog(id) {\n    return this._http.get(environment.endpoints.logs + `${id}_0.txt`, {responseType: \"text\"})\n      .pipe(map(data => JSON.parse(data + \"]\")));\n  }\n\n  fetchRoomTokenConfig() {\n    return this._http.get('/rooms/config');\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MouseposService {\n\n  // Given a mouse event and element, find the mouse position relative to the element's\n  // top left corner\n private getMousePos(event: MouseEvent, elem: HTMLElement) {\n    const rect = elem.getBoundingClientRect();\n    const zoom = parseFloat(elem.style.zoom || '1');\n    return {\n      x: Math.round(event.clientX / zoom - rect.left),\n      y: Math.round(event.clientY / zoom - rect.top)\n    };\n  };\n\n  getMousePosTracker(elem: HTMLElement) {\n    return (event: MouseEvent) => this.getMousePos(event, elem);\n  }\n\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SessionService {\n\n  constructor() { }\n  setUserToken(token) {\n    localStorage.setItem('drawwithme_user_token', token);  \n  }\n\n  getUserToken() {\n    return localStorage.getItem('drawwithme_user_token');\n  }\n\n  getTokenHeader() {\n    const token = this.getUserToken();\n    return { headers: new HttpHeaders().set('Authorization', token) };\n  }\n\n  removeUserToken() {\n    return localStorage.removeItem('drawwithme_user_token');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as io from 'socket.io-client';\n\nimport { SessionService } from '../services/session.service';\nimport { DrawSocketModule } from '../socket_modules/socket-draw';\nimport { RoomSocketModule } from '../socket_modules/socket-room';\nimport { ChatSocketModule } from '../socket_modules/socket-chat';\nimport { ConnectionSocketModule } from '../socket_modules/socket-connection';\nimport { environment } from '../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketsService {\n  private url = environment.endpoints.socketServer;\n  private socket: SocketIOClient.Socket;\n  private room: string;\n\n  connectionModule: ConnectionSocketModule;\n  drawModule: DrawSocketModule;\n  roomModule: RoomSocketModule;\n  chatModule: ChatSocketModule;\n\n  constructor(private session: SessionService) {\n    this.socket = io(this.url, { autoConnect: false });\n    this.connectionModule = new ConnectionSocketModule(this.session, this.socket);\n    this.drawModule = new DrawSocketModule(this.socket);\n    this.roomModule = new RoomSocketModule(this.socket);\n    this.chatModule = new ChatSocketModule(this.socket);\n  }\n\n  connect() {\n    this.socket = io(this.url);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private _http: HttpClient){}\n\n  signUp(data) {\n    return this._http.post('/users/signup', data);\n  }\n\n  signIn(data) {\n    return this._http.post('/users/signin', data);\n  }\n  \n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class WindowService {\n\n  constructor() {\n  }\n\n  onWindowUnload() {\n    return Observable.create((observer) => {\n      window.onunload = () => { observer.next(); }\n    });\n  }\n\n}\n","import { Observable } from 'rxjs';\n\nexport class ChatSocketModule {\n  private socket: SocketIOClient.Socket;\n\n  constructor(socket: SocketIOClient.Socket) {\n    this.socket = socket;\n  }\n\n  emitNewMessage(message: string) {\n    this.socket.emit('chatMessageSent', { data: message });\n  }\n\n  onNewMessage(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('peersChatMessageSent', (data) => {\n        observer.next(data);\n      })\n    })\n  }\n\n}","import { SessionService } from '../services/session.service';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\n// Handles room administrative tasks such as\n// Tokens and updating user list\nexport class ConnectionSocketModule {\n  private socket: SocketIOClient.Socket;\n  private session: SessionService;\n  constructor(\n    sessionService: SessionService,\n    socket: SocketIOClient.Socket\n  ) {\n    this.session = sessionService;\n    this.socket = socket;\n  }\n\n  joinRoom(room: string) {\n    this.connect();\n    const token = this.session.getUserToken();\n    this.socket.emit('join', { room, token });\n  }\n\n  emitTimeOut() {\n    this.socket.emit('timeOut');\n  }\n\n  leaveRoom() {\n    this.disconnect();\n  }\n\n  connect() {\n    console.log(\"CONNECTING\")\n    this.socket.connect();\n  }\n\n  private disconnect() {\n    this.socket.disconnect();\n  }\n\n  isConnected() {\n    return this.socket.connected;\n  }\n\n  onForceDisconnect(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('forceDisconnect', () => {\n        observer.next();\n      });\n    });\n  }\n\n\n\n}","import { Observable } from 'rxjs';\n\nexport class DrawSocketModule {\n  private socket: SocketIOClient.Socket;\n\n  constructor(socket: SocketIOClient.Socket) {\n    // this.socketsService\n    this.socket = socket;\n  }\n\n  emitCursorSizeUpdate(data) {\n    this.socket.emit('cursorSizeUpdate', { data });\n  }\n\n  emitMousePosUpdate(data) {\n    this.socket.emit('mousePosUpdate', { data });\n  }\n\n  emitCanvasActionStart(data) {\n    this.socket.emit('canvasActionStart', { data });\n  }\n\n  emitCanvasActionEnd(data) {\n    this.socket.emit('canvasActionEnd', { data });\n  }\n\n\n  onPeersCursorSizeUpdate() {\n    return Observable.create((observer) => {\n      this.socket.on('peersCursorSizeUpdate', (data) => {\n        observer.next(data);\n      })\n    })\n  }\n\n  onPeersMousePosUpdate() {\n    return Observable.create((observer) => {\n      this.socket.on('peersMousePosUpdate', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  onPeersCanvasActionStart() {\n    return Observable.create((observer) => {\n      this.socket.on('peersCanvasActionStart', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  onPeersCanvasActionEnd() {\n    return Observable.create((observer) => {\n      this.socket.on('peersCanvasActionEnd', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  emitSnapshot() {\n    this.socket.emit('snapShot');\n  }\n\n  \n\n}","import { Observable, Subject } from 'rxjs';\nimport { share } from 'rxjs/operators';\n\n// Handles room administrative tasks such as\n// Tokens and updating user list\nexport class RoomSocketModule {\n  private socket: SocketIOClient.Socket;\n  currUsername: string;\n\n  constructor(socket: SocketIOClient.Socket) {\n    this.socket = socket;\n  }\n\n  onReceivingRoomInfo() {\n    return Observable.create((observer) => {\n      this.socket.on('roomInfo', data => {\n        observer.next(data);\n      });\n    });\n  }\n\n  emitInfoToPeer({peerId, data}: {peerId: string, data: any}) {\n    this.socket.emit('shareInfoWithPeer', {id: peerId, data: data});\n  }\n\n  onReceivingPeerInfo() {\n    return Observable.create((observer) => {\n      this.socket.on('peerInfoShared', data => {\n        observer.next(data);\n      });\n    });\n  }\n\n  onPeerJoin(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('peerJoined', data => {\n        this.socket.emit('shareInfoWithPeer', {id: data['id'], data: this.currUsername})\n        observer.next(data);\n      });\n    });\n  }\n\n  onPeerLeave(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('peerLeft', data => {\n        observer.next(data);\n      });\n    });\n\n  }\n\n  onUsernameAssigned(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('assignedUsername', data => {\n        this.currUsername = data['username'];\n        observer.next(data);\n      });\n    });\n  }\n\n  onPeersCanvasRequest() {\n    return Observable.create((observer) => {\n      this.socket.on('peersCanvasRequest', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  emitCanvasData(data) {\n    this.socket.emit('canvasDataToPeer',  data );\n  }\n\n  onCanvasDataReceived() {\n    return Observable.create((observer) => {\n      this.socket.on('canvasDataReceived', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  onStrokeLogSignal() {\n    return Observable.create((observer) => {\n      this.socket.on('strokeLogFetch', (data) => {\n        observer.next(data);\n      });\n    });\n  }\n\n  onSnapshotSignal() {\n    return Observable.create((observer) => {\n      this.socket.on('snapShotFetch', (data) => {\n        observer.next(data);\n      });\n    })\n  }\n\n  emitTokenConsumption() {\n    this.socket.emit('tokenConsumed')\n  }\n\n  onTokenConsumption(): Observable<any> {\n    return Observable.create((observer) => {\n      this.socket.on('roomTokenConsumed', data => {\n        observer.next(data);\n      });\n    });\n  }\n\n\n  \n}","import { Observable, interval, Subject } from 'rxjs'; \nimport { map } from 'rxjs/operators';\n\nexport class Timer {\n  private startTime: number;\n  private currTime: number;\n  private restartTime: number;\n\n  observable: Observable<string>;\n  onTimeOut: Subject<boolean> = new Subject<boolean>();\n\n\n  constructor(startTimeInMs: number) {\n    this.startTime = startTimeInMs;\n    this.restartTime = this.startTime;\n    this.currTime = this.startTime;\n\n    this.observable = interval(1000).pipe(\n      map(this.updateCurrTime.bind(this)),\n      map(this.formatTime.bind(this))\n    )\n  }\n\n  private updateCurrTime() {\n    this.currTime -= 1000;\n    if (this.currTime <= 0) {\n      this.onTimeOut.next(true);\n      this.currTime = this.restartTime;\n    }\n    return this.currTime;\n  }\n\n  private formatTime(t: number) {\n    const hours = Math.floor(t / (3600 * 1000))\n    t -= hours * (3600 * 1000)\n    const minutes = Math.floor(t / (60 * 1000)) % 60\n    t -= minutes * (60 * 1000)\n    const seconds = Math.floor(t / (1000)) % 1000;\n    return [hours + 'h', minutes + 'm', seconds + 's'].join(' ')\n  }\n\n  setTime(timeInMs: number) {\n    this.startTime = timeInMs;\n    this.currTime = this.startTime;\n  }\n\n  setRestartTime(timeInMs: number) {\n    this.restartTime = timeInMs;\n  }\n\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  endpoints: {\n    socketServer: 'localhost:5000/',\n    logs: 'http://localhost:1337/logs/',\n    thumb: 'http://localhost:1337/thumbs/'\n  },\n\n  roomTimer: {\n    tokenCap: 5,\n    tokenInterval: 1000 * 60 * 60 * 2,\n    tokenTimeValue: 1000 * 60 * 60 * 4\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n","/* (ignored) */"],"sourceRoot":""}